const a0_0x3f56b4=a0_0x4666;(function(_0x405ea9,_0x36a8f8){const _0x1dcfc6=a0_0x4666,_0x3c28e4=_0x405ea9();while(!![]){try{const _0x4580fb=-parseInt(_0x1dcfc6(0x15e))/0x1*(-parseInt(_0x1dcfc6(0x154))/0x2)+-parseInt(_0x1dcfc6(0x10e))/0x3+-parseInt(_0x1dcfc6(0x1a6))/0x4+-parseInt(_0x1dcfc6(0xfc))/0x5+-parseInt(_0x1dcfc6(0x190))/0x6*(parseInt(_0x1dcfc6(0x1f6))/0x7)+parseInt(_0x1dcfc6(0x181))/0x8+-parseInt(_0x1dcfc6(0x132))/0x9*(-parseInt(_0x1dcfc6(0x1c8))/0xa);if(_0x4580fb===_0x36a8f8)break;else _0x3c28e4['push'](_0x3c28e4['shift']());}catch(_0x24f02e){_0x3c28e4['push'](_0x3c28e4['shift']());}}}(a0_0x4126,0xb4faf));let tieDisabled=![],timerIntervalTie,confirmRequest=![];const moveSize=0x6,boardSize={'rows':0x7,'columns':0x6},timeTieDisplay=0x2;var conn,objConnection,player=a0_0x3f56b4(0x13b),confirmations={'Jogador\x201':!![],'Jogador\x202':!![]},nickname,nickOpponent,peerjsPeer=new Peer({'host':'0.peerjs.com','port':''});function getElementById(_0x4611f6){const _0x7a576=a0_0x3f56b4;return document[_0x7a576(0x1e6)](_0x4611f6);}peerjsPeer['on'](a0_0x3f56b4(0x1f3),function(){setPlayerId(),hideLoadingScreenAfterDelay(0xdac);});function a0_0x4126(){const _0x21736e=['startConn','top','getValidMoves','textContent','highlight-invalid','div','children','addEventListener','&id=','handleCellClick','CAMPEÃO\x20DO\x20JOGO!!!','getElementById','timeDisplay','modalTitle','Empate?\x20Tem\x20certeza\x20dessa\x20humilhação?','0.5','addEventListeners','list-group-item','connect','generatePlayerPositions','validMoves','createBoard','Ao\x20confirmar,\x20você\x20vai\x20implorar\x20por\x20um\x20empate\x20ao\x20seu\x20adversário...\x20é,\x20ele\x20provavelmente\x20vai\x20rir\x20de\x20você!','style','open','close','textAlert','606284mRZPFD','restartBoard','6857035YsOLte','tiePlayers','exit','updateBoard','removeEventListener','Sua\x20vez\x20','target','rpgInfoMessage','restartConn','toggleHoverClass','json','container','handleRestart','auto','Ao\x20confirmar,\x20você\x20se\x20tornará\x20o\x20Senhor\x20das\x20Derrotas!\x20Está\x20pronto\x20para\x20essa\x20fama?','handleConfirmStart','start','tieSetValues','1512219JraTcN','hide','data','display','\x20é\x20o\x20campeão!\x20O\x20jogador\x20','/buscar','modalRPGInfo','timerContainer','setProperty','value','showCurrentPlayer','selectedPiece','<div\x20class=\x22hidden-magic\x22></div>','surrender','sem\x20posições\x20validas','firstChild','isCurrentPlayerPiece','Aguardando\x20a\x20confirmação\x20do\x20outro\x20aventureiro','verifyPlayerTurn','show','hidden','Conexão\x20fechada.','reload','flex','statusText','removeClassHover','isValidPosition','\x20abandonou\x20a\x20partida.\x20QUE\x20FRACASSADO!!!','removeHistory','message','Error\x20in\x20connection:','handleStartBasic','contains','p2-','resetConfirmations','Vez\x20do\x20','414ZkZvvj','highlightMoves','allowed','getPieceAtPosition','writeText','random','exitPeer','modalUserList','then','Jogador\x201','currentPlayer','warning','game-container','Erro:','aprensetar\x20targetPiece','closest','userList','includes','stringify','add','parse','createGame','moveRandomPiece','columns','head','Atenção','confirmRestart','GET','copyButton','winner','tie-timer','timeStart','Solicitação\x20de\x20Batalha!!!','randomPiece','500516PHayXP','tavernaLoading','restartGameConn','updateBoardPeerJs','handleNext','first','payloadText','find','cancelButton','/cadastro?nickname=','1xnNTAe','canMoveTo','handleWin','startTimer','connection','catch','eventAdded','push','--columns','split','O\x20jogador\x20','Tem\x20certeza\x20que\x20deseja\x20sair?','textAlertTitle','removeChild','clearBoard','nickOpponent','next','win','inline-block','appendChild','removeLightRed','pointerEvents','updateTimerDisplay','opacity','white','loading','.cell','Jogador\x202','innerText','Corno\x20SemNick','setupPieces','move','floor','https://nodejs-production-cd7c.up.railway.app','cell-','9075616RKktei','error','destroyBoard','history','map','application/json','danger','selected','Seu\x20oponente,\x20','filter','click','playerPieces','move-allowed','hidden-color','/delete?id=','12GEbExH','orange','\x0a\x20\x20\x20\x20html\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20overflow-x:\x20hidden;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20#282c34;\x0a\x20\x20\x20\x20\x20\x20perspective:\x201000px;\x0a\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20height:\x2090vh;\x0a\x20\x20\x20\x20}\x0a\x20\x20','createElement','checkWinner','position','handleError','sort','tieModal','tie','loading-screen','timerInterval','substring','boardElement','move-blocked','Tooltip','loadingModal','innerHTML','renewConn','winnerPlayer','purple','tavernaLoadingText','3938564jBNvrB','startConnection','forEach','confirmations','movePiece','no-hover','play','board','toSorted','Erro\x20na\x20requisição:\x20','handleExit','userListButton','autoMovePiece','timer-container',',\x20até\x20os\x20dados\x20se\x20renderam\x20ao\x20seu\x20charme\x20duvidoso.\x20Você\x20começa!','timeRemaining','remove','classList','<div\x20class=\x22piece\x20','setConfirmations','peer-id-input','switchTurn','green','restartConnection','\x20-\x20ID:\x20','red','isOpponentPiece','stopTimer','playerTurnDisplay','send','confirmButton','\x22></div>','p1-','winnerPlayerExit','519550hpmuPh','tie-option','length','some','peerJsSend','handleTie','initializeConnection','log','Tem\x20certeza\x20que\x20deseja\x20se\x20render?','nickname','game-id','none','modalRPGInput','restart','rows','\x20está\x20te\x20convidando\x20para\x20a\x20batalha!\x20Vai\x20aceitar?','checkForWinner','removePiece','updateBoardPeer'];a0_0x4126=function(){return _0x21736e;};return a0_0x4126();}function setPlayerId(){const _0x5e5e75=a0_0x3f56b4,_0x44ddce=getElementById(_0x5e5e75(0x1d2));_0x44ddce[_0x5e5e75(0x117)]=peerjsPeer['id'],showRPGInputModal();}function hideLoadingScreenAfterDelay(_0x20a72d){setTimeout(()=>{const _0x26c057=a0_0x4666,_0x19d005=getElementById(_0x26c057(0x19a));_0x19d005&&(_0x19d005[_0x26c057(0x1f2)][_0x26c057(0x111)]='none'),applyStyles();},_0x20a72d);}function applyStyles(){const _0x1b23bd=a0_0x3f56b4,_0x3d609d=document[_0x1b23bd(0x193)](_0x1b23bd(0x1f2));_0x3d609d[_0x1b23bd(0x1a1)]=_0x1b23bd(0x192),document[_0x1b23bd(0x14a)][_0x1b23bd(0x171)](_0x3d609d);}function openRPGModal(_0x222da3){const _0x353df2=a0_0x3f56b4;getElementById(_0x222da3)['classList'][_0x353df2(0x1b6)]('hide');}function closeRPGModal(_0x103b34){const _0x585e55=a0_0x3f56b4;getElementById(_0x103b34)[_0x585e55(0x1b7)]['add'](_0x585e55(0x10f));}function showRPGInputModal(){const _0x1a5b0f=a0_0x3f56b4;openRPGModal(_0x1a5b0f(0x1d4));}function saveNickname(){const _0x256824=a0_0x3f56b4;closeRPGModal(_0x256824(0x1d4)),nickname=getElementById('rpgPlayerNick')[_0x256824(0x117)]?.[_0x256824(0x19c)](0x0,0xc),nickname==''&&(nickname=_0x256824(0x17b));}function clickGame(){const _0x3eef7b=a0_0x3f56b4,_0xefb4be=getElementById(_0x3eef7b(0x1ba))[_0x3eef7b(0x117)];if(_0xefb4be)connect(_0xefb4be);}async function surrender(){const _0x3ee8fe=a0_0x3f56b4;openModalSurrender(_0x3ee8fe(0x10a),_0x3ee8fe(0x1d0));}async function exit(){const _0x4e859d=a0_0x3f56b4;openModalExit(_0x4e859d(0x10a),_0x4e859d(0x169));}function openModalExit(_0x2585f8='',_0x2f0f9b=a0_0x3f56b4(0x14b)){const _0x5ea709=a0_0x3f56b4;document['getElementById'](_0x5ea709(0x1e8))['innerText']=_0x2f0f9b,document[_0x5ea709(0x1e6)](_0x5ea709(0x103))[_0x5ea709(0x17a)]=_0x2585f8;const _0x4caddc=document['getElementById'](_0x5ea709(0x114));return _0x4caddc[_0x5ea709(0x1b7)]['remove'](_0x5ea709(0x10f)),new Promise(_0x4f4df3=>{const _0x10c5de=_0x5ea709,_0x3411f6=document[_0x10c5de(0x1e6)]('confirmButton'),_0x4ef1e7=document[_0x10c5de(0x1e6)](_0x10c5de(0x15c));_0x4ef1e7[_0x10c5de(0x1f2)][_0x10c5de(0x111)]='inline-block';const _0x104326=()=>{const _0x475ed2=_0x10c5de;_0x3411f6['removeEventListener']('click',_0x104326),_0x4caddc[_0x475ed2(0x1b7)][_0x475ed2(0x145)](_0x475ed2(0x10f)),_0x4f4df3(),game['exit']();};_0x3411f6[_0x10c5de(0x1e2)](_0x10c5de(0x18b),_0x104326);});}function openModalSurrender(_0x593d5a='',_0x4cb13f='Atenção'){const _0x3de863=a0_0x3f56b4;document['getElementById'](_0x3de863(0x1e8))[_0x3de863(0x17a)]=_0x4cb13f,document[_0x3de863(0x1e6)]('rpgInfoMessage')[_0x3de863(0x17a)]=_0x593d5a;const _0xcaa5fa=document[_0x3de863(0x1e6)](_0x3de863(0x114));return _0xcaa5fa[_0x3de863(0x1b7)][_0x3de863(0x1b6)](_0x3de863(0x10f)),new Promise(_0xf7a39d=>{const _0x192f55=_0x3de863,_0x5b1b3a=document[_0x192f55(0x1e6)]('confirmButton'),_0x1b052b=document[_0x192f55(0x1e6)]('cancelButton');_0x1b052b[_0x192f55(0x1f2)][_0x192f55(0x111)]=_0x192f55(0x170);const _0xea9ded=()=>{const _0x17111b=_0x192f55;_0x5b1b3a['removeEventListener'](_0x17111b(0x18b),_0xea9ded),_0xcaa5fa[_0x17111b(0x1b7)][_0x17111b(0x145)](_0x17111b(0x10f)),_0xf7a39d(),game['surrender']();};_0x5b1b3a[_0x192f55(0x1e2)](_0x192f55(0x18b),_0xea9ded);});}async function tie(){const _0x34c110=a0_0x3f56b4;if(tieDisabled)return;openModalTie(_0x34c110(0x1f1),_0x34c110(0x1e9));}function openModalTie(_0x34d981='',_0x2ae649=a0_0x3f56b4(0x14b)){const _0x20f3d2=a0_0x3f56b4;getElementById('modalTitle')['innerText']=_0x2ae649,getElementById(_0x20f3d2(0x103))[_0x20f3d2(0x17a)]=_0x34d981;const _0x458a34=document[_0x20f3d2(0x1e6)](_0x20f3d2(0x114));return _0x458a34['classList'][_0x20f3d2(0x1b6)](_0x20f3d2(0x10f)),new Promise(_0x5ceab6=>{const _0x409d51=_0x20f3d2,_0x338256=getElementById(_0x409d51(0x1c4)),_0x25589f=getElementById(_0x409d51(0x15c));_0x25589f['style'][_0x409d51(0x111)]='inline-block';const _0x31d170=()=>{const _0x41cf10=_0x409d51;tieDisabled=!![],getElementById(_0x41cf10(0x150))[_0x41cf10(0x1f2)][_0x41cf10(0x111)]=_0x41cf10(0x170),getElementById(_0x41cf10(0x1c9))[_0x41cf10(0x1f2)]['pointerEvents']=_0x41cf10(0x1d3),getElementById('tie-option')[_0x41cf10(0x1f2)][_0x41cf10(0x175)]=_0x41cf10(0x1ea);let _0x2cb664=0x3c*timeTieDisplay;updateTimerDisplay(_0x2cb664),_0x338256[_0x41cf10(0x100)](_0x41cf10(0x18b),_0x31d170),_0x458a34['classList'][_0x41cf10(0x145)](_0x41cf10(0x10f)),_0x5ceab6(),game[_0x41cf10(0xfd)](),loadingScreenPlayer(),timerIntervalTie=setInterval(()=>{const _0x1971a8=_0x41cf10;_0x2cb664--,updateTimerDisplay(_0x2cb664),_0x2cb664<=0x0&&(clearInterval(timerIntervalTie),tieDisabled=![],getElementById(_0x1971a8(0x1c9))[_0x1971a8(0x1f2)][_0x1971a8(0x173)]=_0x1971a8(0x109),getElementById(_0x1971a8(0x1c9))[_0x1971a8(0x1f2)][_0x1971a8(0x175)]='1',getElementById('tie-timer')[_0x1971a8(0x1f2)][_0x1971a8(0x111)]='none');},0x3e8);};_0x338256[_0x409d51(0x1e2)](_0x409d51(0x18b),_0x31d170);});}function updateTimerDisplay(_0x322f0b){const _0x5dbed7=a0_0x3f56b4,_0x536b36=Math['floor'](_0x322f0b/0x3c),_0x2a9761=_0x322f0b%0x3c;getElementById(_0x5dbed7(0x150))[_0x5dbed7(0x17a)]=_0x536b36+':'+(_0x2a9761<0xa?'0':'')+_0x2a9761;}function connect(_0x1ccb4e){const _0x492db4=a0_0x3f56b4;conn=peerjsPeer[_0x492db4(0x1ed)](_0x1ccb4e),conn['on'](_0x492db4(0x1f3),function(){const _0x56d24e=_0x492db4;player=_0x56d24e(0x13b),console[_0x56d24e(0x1cf)](player),objConnection=null,game[_0x56d24e(0x1cc)]({'confirmStart':!![],'nickOpponent':nickname}),loadingScreenPlayer(),conn['on'](_0x56d24e(0x110),function(_0x2e1b48){const _0x10dc0d=_0x56d24e;game[_0x10dc0d(0x1db)](_0x2e1b48);});});}peerjsPeer['on'](a0_0x3f56b4(0x162),function(_0x1913af){const _0x3acad0=a0_0x3f56b4;objConnection=_0x1913af,player='Jogador\x202',console[_0x3acad0(0x1cf)](player),_0x1913af['on'](_0x3acad0(0x1f3),function(){conn=null;}),_0x1913af['on'](_0x3acad0(0x110),function(_0x4bf3d4){const _0x8ced59=_0x3acad0;game[_0x8ced59(0x1a7)](_0x4bf3d4);}),_0x1913af['on']('close',function(){const _0x385c33=_0x3acad0;console['log'](_0x385c33(0x123));});});function hidenBoard(){const _0x145ee2=a0_0x3f56b4;let _0xed8164=getElementById(_0x145ee2(0x13e)),_0x39090a=getElementById(_0x145ee2(0x107));_0xed8164['style'][_0x145ee2(0x111)]=_0x145ee2(0x125),_0x39090a['style'][_0x145ee2(0x111)]='none',closeUserListModal();}class Game{['exit'](){const _0x201dba=a0_0x3f56b4;this['peerJsSend']({'exit':!![]}),location[_0x201dba(0x124)]();}async[a0_0x3f56b4(0x138)](){const _0x307cc8=a0_0x3f56b4;await this['winnerPlayerExit'](nickname,nickOpponent),location[_0x307cc8(0x124)]();}[a0_0x3f56b4(0x1cc)](_0x4ae040){const _0x2c86d1=a0_0x3f56b4;if(conn)conn[_0x2c86d1(0x1c3)](_0x4ae040);else objConnection&&objConnection[_0x2c86d1(0x1c3)](_0x4ae040);}async[a0_0x3f56b4(0x1c7)](_0x44d201,_0x565c39){const _0x3608d9=a0_0x3f56b4;await openModal(_0x44d201+_0x3608d9(0x112)+_0x565c39+_0x3608d9(0x129),_0x3608d9(0x1e5));}async['winnerPlayer'](_0x56917a){const _0x5485bf=a0_0x3f56b4;await openModal(_0x56917a+'\x20é\x20o\x20campeão!\x20Os\x20derrotados\x20estão\x20fazendo\x20fila\x20para\x20a\x20terapia\x20agora!\x20FRACASSADOS!!!',_0x5485bf(0x1e5),![]);}[a0_0x3f56b4(0x11b)](){this['confirmRestart'](nickOpponent);}[a0_0x3f56b4(0x1a2)](){const _0x4f40c8=a0_0x3f56b4;this[_0x4f40c8(0x147)](),this[_0x4f40c8(0x130)](),this[_0x4f40c8(0x1f0)](),this['restartGameConn'](),this[_0x4f40c8(0x1eb)](),this[_0x4f40c8(0x1cc)]({'playerPieces':JSON[_0x4f40c8(0x144)](this['playerPieces']),'start':!![],'currentPlayer':this[_0x4f40c8(0x13c)],'nickOpponent':nickname});}[a0_0x3f56b4(0x104)](){const _0x4c2cfa=a0_0x3f56b4;closeScreenPlayer(),this[_0x4c2cfa(0x1cc)]({'loading':!![]}),this[_0x4c2cfa(0x1c1)](),this[_0x4c2cfa(0x1a2)]();}[a0_0x3f56b4(0x1bd)](){const _0xe4df5e=a0_0x3f56b4;closeScreenPlayer(),this[_0xe4df5e(0x1cc)]({'start':!![],'nickOpponent':nickname});}async[a0_0x3f56b4(0x198)](){const _0x220d4b=a0_0x3f56b4;confirmRequest=![],this[_0x220d4b(0x1c1)](),await openModal(_0x220d4b(0x168)+nickOpponent+'\x20está\x20se\x20rastejando\x20até\x20você\x20pedindo\x20um\x20empate!\x20Vai\x20aceitar\x20ou\x20mostrar\x20quem\x20manda\x20aqui?','Solicitação\x20de\x20empate!!!',!![]);}[a0_0x3f56b4(0x10d)](){const _0x5621d5=a0_0x3f56b4;this[_0x5621d5(0xff)](),this[_0x5621d5(0x161)](this[_0x5621d5(0x1b5)]),this[_0x5621d5(0x1cc)]({'next':!![]});}[a0_0x3f56b4(0x1b9)](_0x1cc3d9){const _0x3020cf=a0_0x3f56b4;if(_0x1cc3d9?.[_0x3020cf(0x1a9)])confirmations=JSON[_0x3020cf(0x146)](_0x1cc3d9?.['confirmations']);}async['startConn'](_0x50313b){const _0x15d5fb=a0_0x3f56b4;try{console['log'](_0x15d5fb(0x1db),_0x50313b),this['initializeConnection'](_0x50313b);if(_0x50313b?.['start']){await this[_0x15d5fb(0x12d)](_0x50313b);return;}if(_0x50313b?.[_0x15d5fb(0x16f)]){this[_0x15d5fb(0xfb)](),this[_0x15d5fb(0x160)](_0x50313b);return;}if(_0x50313b?.[_0x15d5fb(0x1d5)]){await this['handleRestart'](_0x50313b);return;}if(_0x50313b?.[_0x15d5fb(0xfe)]){await this['handleExit']();return;}if(_0x50313b?.[_0x15d5fb(0x16e)]){this[_0x15d5fb(0x158)]();return;}if(_0x50313b?.[_0x15d5fb(0x199)]){await this[_0x15d5fb(0x1cd)]();return;}if(_0x50313b?.[_0x15d5fb(0x17d)]){this['updateBoardPeerJs'](_0x50313b);return;}if(_0x50313b?.[_0x15d5fb(0x177)]){closeScreenPlayer();_0x50313b?.['openModal']&&getElementById('userListButton')[_0x15d5fb(0x18b)]();return;}}catch(_0x59ccda){this['handleError'](_0x59ccda);}}async['startConnection'](_0x135594){const _0x53ded0=a0_0x3f56b4;try{console[_0x53ded0(0x1cf)]('startConnection',_0x135594),this[_0x53ded0(0x1ce)](_0x135594);if(_0x135594?.[_0x53ded0(0x10c)]){await this['handleStartFull'](_0x135594);return;}if(_0x135594?.[_0x53ded0(0x16f)]){this[_0x53ded0(0xfb)](),this[_0x53ded0(0x160)](_0x135594);return;}if(_0x135594?.[_0x53ded0(0x1d5)]){await this[_0x53ded0(0x108)](_0x135594,!![]);return;}if(_0x135594?.['exit']){await this[_0x53ded0(0x1b0)]();return;}if(_0x135594?.[_0x53ded0(0x16e)]){this[_0x53ded0(0x158)]();return;}if(_0x135594?.['tie']){await this[_0x53ded0(0x1cd)]();return;}if(_0x135594?.[_0x53ded0(0x17d)]){this['updateBoardPeerJs'](_0x135594);return;}if(_0x135594?.['confirmStart']){await this[_0x53ded0(0x10b)](_0x135594);return;}if(_0x135594?.['loading']){closeScreenPlayer();return;}}catch(_0x53a0ca){this[_0x53ded0(0x196)](_0x53a0ca);}}async['handleConfirmStart'](_0x303ed5){const _0x29917b=a0_0x3f56b4;closeUserListModal(),confirmRequest=![],await openModal(_0x29917b(0x168)+_0x303ed5?.[_0x29917b(0x16d)]+_0x29917b(0x1d7),_0x29917b(0x152),!![]),confirmRequest?(this[_0x29917b(0x1bd)](),hidenBoard()):(objConnection[_0x29917b(0x1c3)]({'loading':!![],'openModal':!![]}),objConnection[_0x29917b(0x1f4)](),getElementById(_0x29917b(0x1b1))[_0x29917b(0x18b)]());}[a0_0x3f56b4(0x1ce)](_0x2c66af){const _0x262c4e=a0_0x3f56b4;this[_0x262c4e(0x1c1)](),this[_0x262c4e(0x1b9)](_0x2c66af);}[a0_0x3f56b4(0x196)](_0x548c20){const _0x541239=a0_0x3f56b4;console[_0x541239(0x182)](_0x541239(0x12c),_0x548c20);}async['handleStartBasic'](_0xb728d0){const _0x3881a9=a0_0x3f56b4;closeScreenPlayer(),hidenBoard(),nickOpponent=_0xb728d0?.[_0x3881a9(0x16d)],this['renewConn']();}async['handleStartFull'](_0x316cd3){const _0x5f22ca=a0_0x3f56b4;_0x316cd3?.[_0x5f22ca(0x18c)]?(nickOpponent=_0x316cd3?.['nickOpponent'],this[_0x5f22ca(0x147)](),this[_0x5f22ca(0x130)](),this['payloadText'](),this[_0x5f22ca(0x1f0)](),this[_0x5f22ca(0x18c)]=JSON[_0x5f22ca(0x146)](_0x316cd3?.['playerPieces']),this[_0x5f22ca(0x13c)]=_0x316cd3?.[_0x5f22ca(0x13c)],this[_0x5f22ca(0x118)](),this['updateBoard'](),this[_0x5f22ca(0x1eb)]()):this['restartConnection']();}async[a0_0x3f56b4(0x160)](_0x3f402c){const _0x4f42=a0_0x3f56b4;await this[_0x4f42(0x1a3)](_0x3f402c?.[_0x4f42(0x14f)]),loadingScreenPlayer(),this[_0x4f42(0x1cc)]({'restart':!![],'winner':_0x3f402c?.[_0x4f42(0x14f)]});}async['handleRestart'](_0x4a95c4,_0x4a1fe6=![]){const _0x43f587=a0_0x3f56b4;this[_0x43f587(0x1c1)](),!confirmations[player]&&await this['winnerPlayer'](_0x4a95c4?.[_0x43f587(0x14f)]),_0x4a1fe6?this['restartConnection']():this[_0x43f587(0x104)]();}async[a0_0x3f56b4(0x1b0)](){await this['exitPeer']();}[a0_0x3f56b4(0x158)](){const _0x3f4be4=a0_0x3f56b4;closeScreenPlayer(),this['startTimer'](this[_0x3f4be4(0x1b5)]);}async['handleTie'](){const _0x1b2452=a0_0x3f56b4;await this['tieModal'](),confirmRequest?(this[_0x1b2452(0x1cc)]({'loading':!![]}),this['restartConnection']()):this[_0x1b2452(0x10d)]();}[a0_0x3f56b4(0x147)](){const _0x5e7182=a0_0x3f56b4;this[_0x5e7182(0x184)]={'Jogador\x201':[],'Jogador\x202':[]},this[_0x5e7182(0x19d)]=getElementById(_0x5e7182(0x1ad)),this[_0x5e7182(0x119)]=null,this[_0x5e7182(0x13c)]=null,this[_0x5e7182(0x115)]=getElementById(_0x5e7182(0x1b3)),this[_0x5e7182(0x1e7)]=getElementById('time-display'),this[_0x5e7182(0x1c2)]=getElementById('player-turn'),this[_0x5e7182(0x151)]=0xa,this[_0x5e7182(0x1b5)]=this['timeStart'],this[_0x5e7182(0x19b)]=null;}[a0_0x3f56b4(0xfd)](){const _0x316a95=a0_0x3f56b4;this[_0x316a95(0x1c1)](),this[_0x316a95(0x1cc)]({'tie':!![],'nickOpponent':nickname});}[a0_0x3f56b4(0x130)](){const _0x182337=a0_0x3f56b4;confirmations[_0x182337(0x13b)]=![],confirmations[_0x182337(0x179)]=![];}[a0_0x3f56b4(0x157)](_0x5cb871){const _0x10b91d=a0_0x3f56b4;this[_0x10b91d(0x18c)]=JSON[_0x10b91d(0x146)](_0x5cb871?.[_0x10b91d(0x18c)]),this[_0x10b91d(0x127)](),this['switchTurn'](),this[_0x10b91d(0xff)]();}[a0_0x3f56b4(0x15a)](){this['first']=!![];}[a0_0x3f56b4(0x156)](){const _0x47621d=a0_0x3f56b4;this[_0x47621d(0x15a)](),this[_0x47621d(0x16c)](),this[_0x47621d(0x17c)](),this['currentPlayer']=this['randomizeTurn'](),this[_0x47621d(0x118)](),this[_0x47621d(0xff)]();}[a0_0x3f56b4(0x161)](_0x5de58f=this[a0_0x3f56b4(0x151)]){const _0x3af5e7=a0_0x3f56b4;this[_0x3af5e7(0x1c2)][_0x3af5e7(0x1de)]=this['textAlertTitle']()+':',this[_0x3af5e7(0x1c1)](),this[_0x3af5e7(0x1b5)]=_0x5de58f,this[_0x3af5e7(0x174)](),this['timerInterval']=setInterval(()=>{const _0x216ee5=_0x3af5e7;this[_0x216ee5(0x1b5)]-=0x1,this[_0x216ee5(0x1b5)]<=0x0?this[_0x216ee5(0x1b2)]():this['updateTimerDisplay']();},0x3e8);}['autoMovePiece'](){const _0x2dcefb=a0_0x3f56b4,_0x3496ed=this[_0x2dcefb(0x18c)][this['currentPlayer']],_0x4c65c7=_0x3496ed?.[_0x2dcefb(0x18a)](_0x5f42f1=>{const _0x59d2b5=_0x2dcefb;return this['getValidMoves'](_0x5f42f1)[_0x59d2b5(0x1ca)]>0x0;});if(_0x4c65c7['length']>0x0){if(this['currentPlayer']===player){const _0xf16eba=this[_0x2dcefb(0x148)](_0x4c65c7);this['updateBoardPeer'](_0xf16eba[_0x2dcefb(0x153)],_0xf16eba['moveTo']);}}}[a0_0x3f56b4(0x148)](_0x22b176){const _0x3a491f=a0_0x3f56b4,_0x2b626f=_0x22b176[_0x3a491f(0x185)](_0x3a3a15=>({'piece':_0x3a3a15,'sort':Math['random']()}))[_0x3a491f(0x197)]((_0x5afa2d,_0x1cf4ea)=>_0x5afa2d[_0x3a491f(0x197)]-_0x1cf4ea[_0x3a491f(0x197)])['map'](({piece:_0x4a7202})=>_0x4a7202);for(const _0x2ae4d2 of _0x2b626f){const _0x4d693d=this['getValidMoves'](_0x2ae4d2),_0x4ada2d=_0x4d693d[_0x3a491f(0x18a)](_0x16056d=>_0x16056d[_0x3a491f(0x134)]);if(_0x4ada2d[_0x3a491f(0x1ca)]>0x0){const _0xfd6b55=_0x4ada2d[Math['floor'](Math[_0x3a491f(0x137)]()*_0x4ada2d[_0x3a491f(0x1ca)])];return{'randomPiece':_0x2ae4d2,'moveTo':_0xfd6b55};}}return{'randomPiece':null,'moveTo':null};}['stopTimer'](){const _0x1c05d7=a0_0x3f56b4;clearInterval(this[_0x1c05d7(0x19b)]),this[_0x1c05d7(0x19b)]=null;}[a0_0x3f56b4(0x174)](){const _0x56b8f8=a0_0x3f56b4;this[_0x56b8f8(0x1e7)][_0x56b8f8(0x1de)]=this[_0x56b8f8(0x1b5)];if(this[_0x56b8f8(0x1b5)]<=this[_0x56b8f8(0x151)]/0x3)this['timerContainer'][_0x56b8f8(0x1b7)]['add'](_0x56b8f8(0x187)),this['timerContainer'][_0x56b8f8(0x1b7)]['remove'](_0x56b8f8(0x13d));else this[_0x56b8f8(0x1b5)]<=this[_0x56b8f8(0x151)]/1.5?(this[_0x56b8f8(0x115)]['classList'][_0x56b8f8(0x145)](_0x56b8f8(0x13d)),this[_0x56b8f8(0x115)][_0x56b8f8(0x1b7)][_0x56b8f8(0x1b6)]('danger')):this[_0x56b8f8(0x115)]['classList'][_0x56b8f8(0x1b6)](_0x56b8f8(0x187),'warning');}[a0_0x3f56b4(0x1ee)](){const _0x4f6584=a0_0x3f56b4;let _0x3192ac=0x0,_0x261d0f=0x0;const _0x5aac56=[{'x':_0x3192ac,'y':_0x261d0f},{'x':_0x3192ac,'y':_0x261d0f+0x1},{'x':_0x3192ac,'y':_0x261d0f+0x2},{'x':_0x3192ac,'y':_0x261d0f+0x3},{'x':_0x3192ac+0x1,'y':_0x261d0f},{'x':_0x3192ac+0x1,'y':_0x261d0f+0x1},{'x':_0x3192ac+0x1,'y':_0x261d0f+0x2},{'x':_0x3192ac+0x2,'y':_0x261d0f},{'x':_0x3192ac+0x2,'y':_0x261d0f+0x1},{'x':_0x3192ac+0x3,'y':_0x261d0f}];_0x3192ac=Math[_0x4f6584(0x17e)](boardSize[_0x4f6584(0x1d6)]-0x1),_0x261d0f=Math[_0x4f6584(0x17e)](boardSize[_0x4f6584(0x149)]-0x1);const _0x257168=[{'x':_0x3192ac,'y':_0x261d0f-0x3},{'x':_0x3192ac,'y':_0x261d0f-0x2},{'x':_0x3192ac,'y':_0x261d0f-0x1},{'x':_0x3192ac,'y':_0x261d0f},{'x':_0x3192ac-0x1,'y':_0x261d0f},{'x':_0x3192ac-0x1,'y':_0x261d0f-0x1},{'x':_0x3192ac-0x1,'y':_0x261d0f-0x2},{'x':_0x3192ac-0x2,'y':_0x261d0f},{'x':_0x3192ac-0x2,'y':_0x261d0f-0x1},{'x':_0x3192ac-0x3,'y':_0x261d0f}];return{'positionsPlayer1':_0x5aac56,'positionsPlayer2':_0x257168};}[a0_0x3f56b4(0x17c)](){const _0x3211a6=a0_0x3f56b4,_0x4514f4=['white','red',_0x3211a6(0x1a4),_0x3211a6(0x191),'orange','orange',_0x3211a6(0x1a4),_0x3211a6(0x1bf),_0x3211a6(0x191),_0x3211a6(0x1bc)],_0x26022e=['white','red','purple',_0x3211a6(0x191),_0x3211a6(0x191),_0x3211a6(0x191),_0x3211a6(0x1a4),'red',_0x3211a6(0x191),'green'],_0x473d03=_0x4514f4[_0x3211a6(0x1ae)](()=>Math[_0x3211a6(0x137)]()-0.5),_0x22c252=_0x26022e[_0x3211a6(0x1ae)](()=>Math[_0x3211a6(0x137)]()-0.5),{positionsPlayer1:_0x2487b8,positionsPlayer2:_0x4bfc45}=this[_0x3211a6(0x1ee)]();this[_0x3211a6(0x18c)]={'Jogador\x201':_0x2487b8[_0x3211a6(0x185)]((_0x382f63,_0x1cf0f9)=>({'id':_0x3211a6(0x1c6)+_0x1cf0f9,'color':_0x473d03[_0x1cf0f9],'position':_0x382f63,'hidden':!![]})),'Jogador\x202':_0x4bfc45[_0x3211a6(0x185)]((_0xdf81b6,_0x5d3327)=>({'id':_0x3211a6(0x12f)+_0x5d3327,'color':_0x22c252[_0x5d3327],'position':_0xdf81b6,'hidden':!![]}))},this['updateBoard']();for(const _0x33ec57 in this[_0x3211a6(0x18c)]){this['history'][_0x33ec57]=this['playerPieces'][_0x33ec57]['map'](_0xabfb2e=>({'x':_0xabfb2e[_0x3211a6(0x195)]['x'],'y':_0xabfb2e['position']['y'],'id':_0xabfb2e['id']}));}}['destroyBoard'](){const _0x49191d=a0_0x3f56b4;while(this[_0x49191d(0x19d)][_0x49191d(0x11d)]){this[_0x49191d(0x19d)][_0x49191d(0x16b)](this[_0x49191d(0x19d)][_0x49191d(0x11d)]);}}[a0_0x3f56b4(0x1f0)](){const _0xd0909f=a0_0x3f56b4;this[_0xd0909f(0x19d)][_0xd0909f(0x1f2)][_0xd0909f(0x116)]('--rows',boardSize[_0xd0909f(0x1d6)]),this[_0xd0909f(0x19d)][_0xd0909f(0x1f2)][_0xd0909f(0x116)](_0xd0909f(0x166),boardSize[_0xd0909f(0x149)]),this[_0xd0909f(0x183)]();for(let _0x3411e6=0x0;_0x3411e6<boardSize['rows']*boardSize[_0xd0909f(0x149)];_0x3411e6++){const _0x172589=document[_0xd0909f(0x193)](_0xd0909f(0x1e0));_0x172589['className']='cell',_0x172589['id']=_0xd0909f(0x180)+Math[_0xd0909f(0x17e)](_0x3411e6/boardSize['columns'])+'-'+_0x3411e6%boardSize['columns'],_0x172589[_0xd0909f(0x1de)]='',this[_0xd0909f(0x19d)][_0xd0909f(0x171)](_0x172589);}}[a0_0x3f56b4(0x1da)](_0x292c85,_0x4a6a64){const _0x3e6031=a0_0x3f56b4;if(this[_0x3e6031(0x194)]())this[_0x3e6031(0x1d8)]();_0x292c85&&_0x4a6a64?(console[_0x3e6031(0x1cf)](player,'movendo\x20e\x20enviando\x20posições'),this[_0x3e6031(0x1aa)](_0x292c85,_0x4a6a64)):(console['log'](player,_0x3e6031(0x11c)),this[_0x3e6031(0x1bb)]()),this[_0x3e6031(0xff)](),this[_0x3e6031(0x1cc)]({'move':!![],'playerPieces':JSON[_0x3e6031(0x144)](this[_0x3e6031(0x18c)])});}[a0_0x3f56b4(0xff)](){const _0x526a48=a0_0x3f56b4;this[_0x526a48(0x16c)]();const _0x1f44c3=[...this[_0x526a48(0x18c)]['Jogador\x201'],...this[_0x526a48(0x18c)]['Jogador\x202']];_0x1f44c3[_0x526a48(0x1a8)](_0x3d2978=>{const _0x36dcd1=_0x526a48,_0xad2c2d=_0x36dcd1(0x180)+_0x3d2978[_0x36dcd1(0x195)]['x']+'-'+_0x3d2978[_0x36dcd1(0x195)]['y'],_0x2dc213=getElementById(_0xad2c2d);if(_0x2dc213){const _0x249fe5=this['isOpponentPiece'](_0x3d2978,player),_0x47ac26=_0x249fe5&&_0x3d2978[_0x36dcd1(0x122)]?_0x36dcd1(0x18e):_0x3d2978['color'];let _0x3b7602=_0x36dcd1(0x1b8)+_0x47ac26+_0x36dcd1(0x1c5);_0x249fe5&&!_0x3d2978[_0x36dcd1(0x122)]&&(_0x3b7602+=_0x36dcd1(0x11a)),_0x2dc213['innerHTML']=_0x3b7602;}});}['restartBoard'](){const _0x375e4b=a0_0x3f56b4;this[_0x375e4b(0x16c)]();const _0x3374ce=[...this[_0x375e4b(0x18c)][_0x375e4b(0x13b)],...this[_0x375e4b(0x18c)][_0x375e4b(0x179)]];_0x3374ce['forEach'](_0x35d5fb=>{const _0x1afd1d=_0x375e4b,_0x5ad205=_0x1afd1d(0x180)+_0x35d5fb[_0x1afd1d(0x195)]['x']+'-'+_0x35d5fb[_0x1afd1d(0x195)]['y'],_0x1e353a=getElementById(_0x5ad205);if(_0x1e353a){const _0x30907f=_0x35d5fb['color'];_0x1e353a['innerHTML']=_0x1afd1d(0x1b8)+_0x30907f+_0x1afd1d(0x1c5);}});}[a0_0x3f56b4(0x16c)](){const _0x3fa48a=a0_0x3f56b4,_0x2f773e=this[_0x3fa48a(0x19d)][_0x3fa48a(0x1e1)];for(let _0x58c751 of _0x2f773e){_0x58c751[_0x3fa48a(0x1a1)]='',_0x58c751['classList'][_0x3fa48a(0x1b6)]('move-allowed',_0x3fa48a(0x19e),_0x3fa48a(0x188));}}['randomizeTurn'](){const _0x427a7d=a0_0x3f56b4;return Math[_0x427a7d(0x137)]()<0.5?_0x427a7d(0x13b):_0x427a7d(0x179);}['textAlert'](){const _0x383e3d=a0_0x3f56b4;return this[_0x383e3d(0x13c)]===player?nickname+_0x383e3d(0x1b4):_0x383e3d(0x189)+nickOpponent+',\x20seduziu\x20os\x20dados.\x20Talvez\x20ele\x20saiba\x20algo\x20que\x20nós\x20não\x20sabemos!';}[a0_0x3f56b4(0x16a)](){const _0x502e0d=a0_0x3f56b4;return this['currentPlayer']===player?_0x502e0d(0x101)+nickname:_0x502e0d(0x131)+nickOpponent;}async[a0_0x3f56b4(0x118)](){const _0x42d312=a0_0x3f56b4;this[_0x42d312(0x159)]&&(openModal(''+this[_0x42d312(0x1f5)]()),this[_0x42d312(0x159)]=![]),this[_0x42d312(0x13c)]===player?(this[_0x42d312(0x115)][_0x42d312(0x1b7)][_0x42d312(0x145)]('play'),this[_0x42d312(0x115)][_0x42d312(0x1b7)][_0x42d312(0x1b6)]('pause')):(this[_0x42d312(0x115)][_0x42d312(0x1b7)]['add']('pause'),this['timerContainer'][_0x42d312(0x1b7)][_0x42d312(0x1b6)](_0x42d312(0x1ac))),this[_0x42d312(0x161)](),this[_0x42d312(0x1ef)]();}[a0_0x3f56b4(0x1ef)](){const _0x13ee7d=a0_0x3f56b4,_0x30f5e1=this[_0x13ee7d(0x18c)][this[_0x13ee7d(0x13c)]],_0x59fcb7=this['playerPieces'][this[_0x13ee7d(0x120)](this[_0x13ee7d(0x13c)])];this[_0x13ee7d(0x13c)]===player?(this[_0x13ee7d(0x105)](_0x30f5e1,![]),this[_0x13ee7d(0x105)](_0x59fcb7,!![])):(this[_0x13ee7d(0x105)](_0x30f5e1,!![]),this['toggleHoverClass'](_0x59fcb7,![]));}[a0_0x3f56b4(0x127)](){const _0x31c0e2=a0_0x3f56b4,_0x456647=document['querySelectorAll'](_0x31c0e2(0x178));_0x456647[_0x31c0e2(0x1a8)](_0x297291=>{const _0x2eb19a=_0x31c0e2;_0x297291['classList'][_0x2eb19a(0x1b6)]('no-hover');}),this['validMoves']();}[a0_0x3f56b4(0x105)](_0x39e1d4,_0x3c8a24){const _0x33cfb3=a0_0x3f56b4;_0x39e1d4[_0x33cfb3(0x1a8)](({position:{x:_0x6afe9d,y:_0x3c68be}})=>{const _0x3bd73d=_0x33cfb3,_0xf0784a=getElementById(_0x3bd73d(0x180)+_0x6afe9d+'-'+_0x3c68be);_0xf0784a&&(_0x3c8a24?_0xf0784a[_0x3bd73d(0x1b7)][_0x3bd73d(0x145)](_0x3bd73d(0x1ab)):_0xf0784a['classList']['remove'](_0x3bd73d(0x1ab)));});}[a0_0x3f56b4(0x1eb)](){const _0xb839cf=a0_0x3f56b4;!this[_0xb839cf(0x164)]&&(this[_0xb839cf(0x19d)][_0xb839cf(0x1e2)]('click',_0x2d5945=>{const _0x1466ea=_0xb839cf,_0x7a4427=_0x2d5945[_0x1466ea(0x102)][_0x1466ea(0x141)](_0x1466ea(0x178));if(!_0x7a4427)return;const [_0x535c70,_0x178518,_0x193943]=_0x7a4427['id'][_0x1466ea(0x167)]('-')[_0x1466ea(0x185)](Number);this[_0x1466ea(0x1e4)](_0x178518,_0x193943);}),this['eventAdded']=!![]);}[a0_0x3f56b4(0x1e4)](_0x3378e9,_0x206b12){const _0x3a5f1a=a0_0x3f56b4,_0x56c30a=this[_0x3a5f1a(0x135)](_0x3378e9,_0x206b12);if(this[_0x3a5f1a(0x13c)]!==player)return;if(this[_0x3a5f1a(0x119)])this[_0x3a5f1a(0x15f)](this[_0x3a5f1a(0x119)],{'x':_0x3378e9,'y':_0x206b12})?(this[_0x3a5f1a(0x1aa)](this['selectedPiece'],{'x':_0x3378e9,'y':_0x206b12}),this[_0x3a5f1a(0xff)](),this['peerJsSend']({'move':!![],'playerPieces':JSON['stringify'](this[_0x3a5f1a(0x18c)]),'movedPiece':this[_0x3a5f1a(0x119)]['id'],'newPosition':{'x':_0x3378e9,'y':_0x206b12}}),this[_0x3a5f1a(0x119)]=null):(this[_0x3a5f1a(0x119)]=null,this['updateBoard']());else _0x56c30a&&this[_0x3a5f1a(0x11e)](_0x56c30a)&&(this['selectedPiece']=_0x56c30a,this[_0x3a5f1a(0x133)](_0x56c30a));}['getPieceAtPosition'](_0x67787d,_0x30f2d0){const _0x11909e=a0_0x3f56b4,_0x5a2064=[...this[_0x11909e(0x18c)][_0x11909e(0x13b)],...this[_0x11909e(0x18c)]['Jogador\x202']];return _0x5a2064[_0x11909e(0x15b)](_0x4c898c=>_0x4c898c[_0x11909e(0x195)]['x']===_0x67787d&&_0x4c898c[_0x11909e(0x195)]['y']===_0x30f2d0);}[a0_0x3f56b4(0x11e)](_0x36b253){const _0x351246=a0_0x3f56b4;return this[_0x351246(0x18c)][this[_0x351246(0x13c)]][_0x351246(0x143)](_0x36b253);}[a0_0x3f56b4(0x172)](_0x44df9e){const _0x181c88=a0_0x3f56b4,_0x193a5e=this[_0x181c88(0x1dd)](_0x44df9e),_0x62d8de=this['history'][this[_0x181c88(0x13c)]];_0x193a5e['forEach'](_0x16c290=>{const _0x4860f7=_0x181c88,_0x585743=getElementById(_0x4860f7(0x180)+_0x16c290['x']+'-'+_0x16c290['y']);_0x62d8de[_0x4860f7(0x1cb)](_0x10a094=>_0x10a094['x']===_0x16c290['x']&&_0x10a094['y']===_0x16c290['y']&&_0x10a094['id']===_0x44df9e['id'])&&(_0x585743[_0x4860f7(0x1b7)]['add'](_0x4860f7(0x18d)),_0x585743[_0x4860f7(0x1b7)]['remove']('move-blocked'));});}[a0_0x3f56b4(0x133)](_0x246b28){const _0x4acdf7=a0_0x3f56b4,_0x13f80f=this[_0x4acdf7(0x1dd)](_0x246b28),_0x43d0b4=this[_0x4acdf7(0x184)][this[_0x4acdf7(0x13c)]];_0x13f80f[_0x4acdf7(0x1a8)](_0x380d16=>{const _0x12cb64=_0x4acdf7,_0x2ccc43=getElementById(_0x12cb64(0x180)+_0x380d16['x']+'-'+_0x380d16['y']),_0x25ddb8=this[_0x12cb64(0x135)](_0x380d16['x'],_0x380d16['y']);if(_0x43d0b4[_0x12cb64(0x1cb)](_0x28460c=>_0x28460c['x']===_0x380d16['x']&&_0x28460c['y']===_0x380d16['y']&&_0x28460c['id']===_0x246b28['id']))!(_0x25ddb8&&this[_0x12cb64(0x1c0)](_0x25ddb8))?_0x2ccc43[_0x12cb64(0x1b7)][_0x12cb64(0x145)](_0x12cb64(0x19e)):_0x2ccc43[_0x12cb64(0x1b7)][_0x12cb64(0x145)]('move-allowed');else _0x380d16[_0x12cb64(0x134)]?_0x2ccc43['classList']['add'](_0x12cb64(0x18d)):_0x2ccc43[_0x12cb64(0x1b7)][_0x12cb64(0x145)](_0x12cb64(0x19e));});const _0x395cf1=getElementById(_0x4acdf7(0x180)+_0x246b28['position']['x']+'-'+_0x246b28[_0x4acdf7(0x195)]['y']);_0x395cf1[_0x4acdf7(0x1b7)][_0x4acdf7(0x145)](_0x4acdf7(0x188));}['getValidMoves'](_0x3f41c2){const _0x490967=a0_0x3f56b4,_0xfc5470=[],_0x56f4ab=[{'x':-0x1,'y':0x0},{'x':+0x1,'y':0x0},{'x':+0x0,'y':-0x1},{'x':+0x0,'y':+0x1},{'x':-0x1,'y':-0x1},{'x':-0x1,'y':+0x1},{'x':+0x1,'y':-0x1},{'x':+0x1,'y':+0x1}],_0x46d885=this[_0x490967(0x184)][this[_0x490967(0x13c)]];return _0x56f4ab['forEach'](_0x460f26=>{const _0x4d318a=_0x490967,_0x4197dc={'x':_0x3f41c2[_0x4d318a(0x195)]['x']+_0x460f26['x'],'y':_0x3f41c2[_0x4d318a(0x195)]['y']+_0x460f26['y']};if(this[_0x4d318a(0x128)](_0x4197dc)){const _0x1efae8=this[_0x4d318a(0x135)](_0x4197dc['x'],_0x4197dc['y']),_0x318be7=_0x46d885[_0x4d318a(0x1cb)](_0x5722ce=>_0x5722ce['x']===_0x4197dc['x']&&_0x5722ce['y']===_0x4197dc['y']&&_0x5722ce['id']===_0x3f41c2['id']);_0xfc5470[_0x4d318a(0x165)]({..._0x4197dc,'allowed':!_0x1efae8&&!_0x318be7||this[_0x4d318a(0x1c0)](_0x1efae8)});}}),_0xfc5470;}[a0_0x3f56b4(0x128)](_0xf7bcae){const _0x1c4c08=a0_0x3f56b4;return _0xf7bcae['x']>=0x0&&_0xf7bcae['x']<boardSize[_0x1c4c08(0x1d6)]&&_0xf7bcae['y']>=0x0&&_0xf7bcae['y']<boardSize['columns'];}[a0_0x3f56b4(0x120)](_0x2205e0){const _0x3f8bcf=a0_0x3f56b4;return _0x2205e0==='Jogador\x201'?_0x3f8bcf(0x179):_0x3f8bcf(0x13b);}['isOpponentPiece'](_0x4e8928,_0x1e771d=this['currentPlayer']){const _0x3d03ea=a0_0x3f56b4,_0x15f406=this[_0x3d03ea(0x120)](_0x1e771d);return this[_0x3d03ea(0x18c)][_0x15f406]['includes'](_0x4e8928);}['canMoveTo'](_0xad14d5,_0x2aeea7){const _0x845c71=a0_0x3f56b4,_0x9ebd1f=this['getValidMoves'](_0xad14d5);return _0x9ebd1f[_0x845c71(0x1cb)](_0x1263d6=>_0x1263d6['x']===_0x2aeea7['x']&&_0x1263d6['y']===_0x2aeea7['y']&&_0x1263d6[_0x845c71(0x134)]);}['movePiece'](_0x73997c,_0x1945c8){const _0x4e3067=a0_0x3f56b4,_0x4496fb=this[_0x4e3067(0x135)](_0x1945c8['x'],_0x1945c8['y']),_0x5ac402=document[_0x4e3067(0x1e6)](_0x4e3067(0x180)+_0x1945c8['x']+'-'+_0x1945c8['y']);if(_0x4496fb&&this[_0x4e3067(0x1c0)](_0x4496fb)){const {color:_0x16eee3}=_0x73997c,{color:_0x301524}=_0x4496fb,_0x57d3b8={'white':()=>{const _0x4d99d4=_0x4e3067;this[_0x4d99d4(0x12a)](_0x73997c['id']),this[_0x4d99d4(0x1d9)](_0x4496fb),_0x301524==='white'&&this['removePiece'](_0x73997c);},'red':()=>{const _0x5c3494=_0x4e3067;this[_0x5c3494(0x12a)](_0x73997c['id']);if(_0x301524==='white')this[_0x5c3494(0x1d9)](_0x73997c);else _0x301524===_0x5c3494(0x1bc)?this[_0x5c3494(0x1d9)](_0x4496fb):(this[_0x5c3494(0x1d9)](_0x4496fb),this[_0x5c3494(0x1d9)](_0x73997c));},'orange':()=>{const _0x5663b9=_0x4e3067;this[_0x5663b9(0x12a)](_0x73997c['id']);if([_0x5663b9(0x191),_0x5663b9(0x176)][_0x5663b9(0x143)](_0x301524))this[_0x5663b9(0x1d9)](_0x4496fb);else{if([_0x5663b9(0x1a4),_0x5663b9(0x1bc)][_0x5663b9(0x143)](_0x301524))this[_0x5663b9(0x1d9)](_0x73997c);else _0x301524==='red'&&(this[_0x5663b9(0x1d9)](_0x73997c),this['removePiece'](_0x4496fb));}},'purple':()=>{const _0x52ea19=_0x4e3067;this[_0x52ea19(0x12a)](_0x73997c['id']);if([_0x52ea19(0x1a4),'orange',_0x52ea19(0x1bc)]['includes'](_0x301524))this[_0x52ea19(0x1d9)](_0x4496fb);else{if(_0x301524===_0x52ea19(0x176))this[_0x52ea19(0x1d9)](_0x73997c);else _0x301524===_0x52ea19(0x1bf)&&(this[_0x52ea19(0x1d9)](_0x73997c),this[_0x52ea19(0x1d9)](_0x4496fb));}},'green':()=>{const _0x1565f1=_0x4e3067;this[_0x1565f1(0x12a)](_0x73997c['id']);if([_0x1565f1(0x1a4),'white',_0x1565f1(0x1bf)][_0x1565f1(0x143)](_0x301524))this[_0x1565f1(0x1d9)](_0x73997c),_0x4496fb[_0x1565f1(0x122)]=![],this[_0x1565f1(0xff)](),console[_0x1565f1(0x1cf)](_0x1565f1(0x140),_0x301524);else{if(_0x301524==='orange')this[_0x1565f1(0x1d9)](_0x4496fb);else _0x301524===_0x1565f1(0x1bc)&&(this[_0x1565f1(0x1d9)](_0x73997c),this['removePiece'](_0x4496fb));}}};_0x57d3b8[_0x16eee3]?.();}else{const _0x11c33a=this[_0x4e3067(0x184)][this[_0x4e3067(0x13c)]]['some'](_0xcf4026=>_0xcf4026['x']===_0x1945c8['x']&&_0xcf4026['y']===_0x1945c8['y']&&_0xcf4026['id']===_0x73997c['id']);if(_0x11c33a){_0x5ac402[_0x4e3067(0x1b7)][_0x4e3067(0x145)](_0x4e3067(0x1df)),setTimeout(()=>{const _0x2b9004=_0x4e3067;_0x5ac402['classList'][_0x2b9004(0x1b6)](_0x2b9004(0x1df));},0x3e8);return;}}_0x73997c[_0x4e3067(0x195)]=_0x1945c8,this[_0x4e3067(0xff)](),this['history'][this[_0x4e3067(0x13c)]][_0x4e3067(0x165)]({'x':_0x1945c8['x'],'y':_0x1945c8['y'],'id':_0x73997c['id']}),this[_0x4e3067(0x1bb)]();}[a0_0x3f56b4(0x12a)](_0x40d27b){const _0x53a07d=a0_0x3f56b4;this[_0x53a07d(0x184)][this[_0x53a07d(0x13c)]]=this['history'][this[_0x53a07d(0x13c)]][_0x53a07d(0x18a)](_0x43ce6f=>_0x43ce6f['id']!==_0x40d27b);}[a0_0x3f56b4(0x1d9)](_0x22e166){const _0x26a731=a0_0x3f56b4,_0x6a0748=this[_0x26a731(0x18c)][_0x26a731(0x13b)][_0x26a731(0x143)](_0x22e166)?_0x26a731(0x13b):_0x26a731(0x179);this[_0x26a731(0x18c)][_0x6a0748]=this['playerPieces'][_0x6a0748][_0x26a731(0x18a)](_0x2d8e2e=>_0x2d8e2e!==_0x22e166);}[a0_0x3f56b4(0x1bb)](){const _0x3279d3=a0_0x3f56b4;this[_0x3279d3(0x1c1)](),this['currentPlayer']=this[_0x3279d3(0x120)](this[_0x3279d3(0x13c)]),this[_0x3279d3(0x1d8)]();}async['checkForWinner'](){const _0x39908c=a0_0x3f56b4,_0x3b93d3=this[_0x39908c(0x194)]();_0x3b93d3?(this[_0x39908c(0x1c1)](),await this[_0x39908c(0x14c)](_0x3b93d3)):this[_0x39908c(0x118)]();}[a0_0x3f56b4(0x194)](){const _0x3c5c44=a0_0x3f56b4,_0x1b4dc0=this[_0x3c5c44(0x18c)][_0x3c5c44(0x13b)],_0x177c25=this[_0x3c5c44(0x18c)]['Jogador\x202'];if(_0x1b4dc0[_0x3c5c44(0x1ca)]===0x0)return nickname;if(_0x177c25['length']===0x0)return nickOpponent;return null;}async[a0_0x3f56b4(0x14c)](_0x5712db){const _0x5e709=a0_0x3f56b4;this[_0x5e709(0x1c1)](),this[_0x5e709(0xfb)](),this[_0x5e709(0x1cc)]({'winner':_0x5712db,'win':!![]}),await this[_0x5e709(0x1a3)](_0x5712db),confirmations[player]=!![],loadingScreenPlayer();}}function a0_0x4666(_0x1b0189,_0x407a62){const _0x4126da=a0_0x4126();return a0_0x4666=function(_0x466646,_0x24f511){_0x466646=_0x466646-0xfb;let _0x488186=_0x4126da[_0x466646];return _0x488186;},a0_0x4666(_0x1b0189,_0x407a62);}async function openModal(_0x203f46='',_0x500f9d='Atenção',_0x3369b1=![]){const _0x57a7c7=a0_0x3f56b4;document['getElementById'](_0x57a7c7(0x1e8))[_0x57a7c7(0x17a)]=_0x500f9d,document[_0x57a7c7(0x1e6)](_0x57a7c7(0x103))[_0x57a7c7(0x17a)]=_0x203f46;const _0x1b50ca=document[_0x57a7c7(0x1e6)](_0x57a7c7(0x114));return _0x1b50ca[_0x57a7c7(0x1b7)][_0x57a7c7(0x1b6)](_0x57a7c7(0x10f)),new Promise(_0x311b8e=>{const _0x37070e=_0x57a7c7,_0x29365b=document[_0x37070e(0x1e6)](_0x37070e(0x1c4)),_0x26742a=document[_0x37070e(0x1e6)](_0x37070e(0x15c));_0x26742a[_0x37070e(0x1f2)][_0x37070e(0x111)]=_0x3369b1?_0x37070e(0x170):'none';const _0x13d276=(_0x577d2d=![])=>{const _0x444c3d=_0x37070e;confirmRequest=!_0x577d2d,_0x29365b[_0x444c3d(0x100)](_0x444c3d(0x18b),_0x13d276),_0x26742a[_0x444c3d(0x100)](_0x444c3d(0x18b),_0x13d276),_0x1b50ca['classList'][_0x444c3d(0x145)](_0x444c3d(0x10f)),_0x311b8e(_0x577d2d);};_0x29365b[_0x37070e(0x1e2)]('click',()=>_0x13d276(![])),_0x26742a[_0x37070e(0x1e2)](_0x37070e(0x18b),()=>_0x13d276(!![]));});}const game=new Game(),urlAPi=a0_0x3f56b4(0x17f);function cadastrar(){const _0x5ed10c=a0_0x3f56b4,_0x2d7a68=getElementById(_0x5ed10c(0x1d2))[_0x5ed10c(0x117)];fetch(urlAPi+_0x5ed10c(0x15d)+encodeURIComponent(nickname)+_0x5ed10c(0x1e3)+encodeURIComponent(_0x2d7a68),{'method':_0x5ed10c(0x14d),'headers':{'Content-Type':_0x5ed10c(0x186)}})[_0x5ed10c(0x13a)](_0x2a686a=>{const _0xf0691e=_0x5ed10c;if(!_0x2a686a['ok'])throw new Error(_0xf0691e(0x1af)+_0x2a686a[_0xf0691e(0x126)]);return _0x2a686a[_0xf0691e(0x106)]();})[_0x5ed10c(0x13a)](_0x34bc86=>{const _0x2b1cb0=_0x5ed10c;console[_0x2b1cb0(0x1cf)](_0x34bc86[_0x2b1cb0(0x12b)]);})['catch'](_0x13eefe=>console[_0x5ed10c(0x182)](_0x5ed10c(0x13f),_0x13eefe));}async function buscar(){const _0x4f3143=a0_0x3f56b4;getElementById(_0x4f3143(0x1a0))[_0x4f3143(0x1b7)][_0x4f3143(0x1b6)](_0x4f3143(0x10f));const _0x9e76de=getElementById('game-id')[_0x4f3143(0x117)];try{const _0x32a374=await fetch(urlAPi+_0x4f3143(0x113),{'method':_0x4f3143(0x14d),'headers':{'Content-Type':_0x4f3143(0x186)}});if(!_0x32a374['ok'])throw new Error(_0x4f3143(0x1af)+_0x32a374[_0x4f3143(0x126)]);const _0x40fbbd=await _0x32a374['json'](),_0x59c76e=_0x40fbbd[_0x4f3143(0x18a)](_0x445dd5=>_0x445dd5['id']!==_0x9e76de);displayUsers(_0x59c76e);}catch(_0x39ea7a){console['error'](_0x4f3143(0x13f),_0x39ea7a);}finally{getElementById(_0x4f3143(0x1a0))[_0x4f3143(0x1b7)]['add']('hide');}}function excluir(_0x5af672){const _0x53c38d=a0_0x3f56b4;fetch(urlAPi+_0x53c38d(0x18f)+_0x5af672,{'method':_0x53c38d(0x14d),'headers':{'Content-Type':_0x53c38d(0x186)}})[_0x53c38d(0x13a)](_0xa61e8e=>{const _0x3a2c8d=_0x53c38d;if(!_0xa61e8e['ok'])throw new Error(_0x3a2c8d(0x1af)+_0xa61e8e['statusText']);return _0xa61e8e['json']();})['then'](_0x37b7c8=>{const _0x91a94e=_0x53c38d;console[_0x91a94e(0x1cf)](_0x37b7c8[_0x91a94e(0x12b)]);})[_0x53c38d(0x163)](_0x439ed2=>{});}function displayUsers(_0x45a57e){const _0x161fd7=a0_0x3f56b4,_0x500230=getElementById(_0x161fd7(0x142));_0x500230['innerHTML']='',_0x45a57e['forEach'](_0x5dca02=>{const _0x329e58=_0x161fd7,_0x1ae6e7=document['createElement']('li');_0x1ae6e7['className']=_0x329e58(0x1ec),_0x1ae6e7[_0x329e58(0x1de)]=_0x5dca02[_0x329e58(0x1d1)]+_0x329e58(0x1be)+_0x5dca02['id'],_0x1ae6e7[_0x329e58(0x1e2)](_0x329e58(0x18b),()=>{const _0x2aa137=_0x329e58;getElementById('peer-id-input')[_0x2aa137(0x117)]=_0x5dca02['id'],clickGame();}),_0x500230[_0x329e58(0x171)](_0x1ae6e7);});}document[a0_0x3f56b4(0x1e2)]('DOMContentLoaded',()=>{setupCopyButton(),setupUserListButton();});function setupUserListButton(){const _0x1a7513=a0_0x3f56b4;document[_0x1a7513(0x1e6)](_0x1a7513(0x1b1))[_0x1a7513(0x1e2)](_0x1a7513(0x18b),async()=>{const _0x2943b3=_0x1a7513;getElementById('tavernaLoading')[_0x2943b3(0x1f2)][_0x2943b3(0x111)]=_0x2943b3(0x125),await buscar(),cadastrar(),setTimeout(function(){const _0x2e8273=_0x2943b3;getElementById(_0x2e8273(0x155))['style'][_0x2e8273(0x111)]='none',getElementById(_0x2e8273(0x139))['classList'][_0x2e8273(0x1b6)](_0x2e8273(0x10f));},0x2bc);const _0x1bbdd5=setInterval(async()=>{const _0x4aa2dd=_0x2943b3;!getElementById('modalUserList')[_0x4aa2dd(0x1b7)]['contains'](_0x4aa2dd(0x10f))?await buscar():clearInterval(_0x1bbdd5);},0x1388);});}function setupCopyButton(){const _0x1587a7=a0_0x3f56b4,_0x4d89f6=getElementById(_0x1587a7(0x14e)),_0x3c3ce8=new bootstrap[(_0x1587a7(0x19f))](_0x4d89f6,{'trigger':'manual','placement':_0x1587a7(0x1dc),'container':'html'});_0x4d89f6[_0x1587a7(0x1e2)](_0x1587a7(0x18b),()=>{const _0x407d03=_0x1587a7,_0x5bf7da=getElementById(_0x407d03(0x1d2))[_0x407d03(0x117)];navigator['clipboard'][_0x407d03(0x136)](_0x5bf7da)[_0x407d03(0x13a)](()=>{const _0x45f265=_0x407d03;_0x3c3ce8[_0x45f265(0x121)](),setTimeout(()=>_0x3c3ce8[_0x45f265(0x10f)](),0x5dc);});});}function closeUserListModal(){const _0x56a529=a0_0x3f56b4,_0x814aa6=getElementById(_0x56a529(0x1d2))[_0x56a529(0x117)];!getElementById(_0x56a529(0x139))['classList'][_0x56a529(0x12e)]('hide')&&(excluir(_0x814aa6),getElementById(_0x56a529(0x139))[_0x56a529(0x1b7)][_0x56a529(0x145)]('hide'));}function loadingScreenPlayer(){const _0x150884=a0_0x3f56b4,_0x4e96bd=getElementById('tavernaLoading'),_0x4e6693=getElementById(_0x150884(0x1a5));_0x4e96bd[_0x150884(0x1f2)][_0x150884(0x111)]=_0x150884(0x125),_0x4e6693[_0x150884(0x17a)]=_0x150884(0x11f),closeUserListModal();}function closeScreenPlayer(){const _0x1a88d3=a0_0x3f56b4,_0x3d3a13=getElementById(_0x1a88d3(0x155));_0x3d3a13[_0x1a88d3(0x1f2)][_0x1a88d3(0x111)]='none';}
