const a0_0x3084b1=a0_0x4982;function a0_0x2ad5(){const _0x29a011=['purple','columns','startTimer','removeEventListener','open','parse','nickname','loading-screen','/delete?id=','highlightMoves','error','682584YmZPaf','green','renewConn','connect','history','filter','color','Ao\x20confirmar,\x20você\x20se\x20tornará\x20o\x20Senhor\x20das\x20Derrotas!\x20Está\x20pronto\x20para\x20essa\x20fama?','writeText','cell','randomizeTurn','18714456ckSFhK','\x20abandonou\x20a\x20partida.\x20QUE\x20FRACASSADO!!!','confirmRestart','display','hidden-color','style','Jogador\x202','board','\x0a\x20\x20\x20\x20html\x20{\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20padding:\x2010px;\x0a\x20\x20\x20\x20\x20\x20overflow-x:\x20hidden;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20justify-content:\x20center;\x0a\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20background-color:\x20#282c34;\x0a\x20\x20\x20\x20\x20\x20perspective:\x201000px;\x0a\x20\x20\x20\x20\x20\x20width:\x2090%;\x0a\x20\x20\x20\x20\x20\x20height:\x2090vh;\x0a\x20\x20\x20\x20}\x0a\x20\x20','click','moveTo','then','sort','loading','winnerPlayer','winner','Tooltip','startConnection','handleConfirmStart','autoMovePiece','368HTXXPq','670iHTRYl','opacity','textContent','moveRandomPiece','floor','exit','canMoveTo','contains','tie-option','surrender','handleStartBasic','verifyPlayerTurn','highlight-invalid','getElementById','\x22></div>','substring','addEventListeners','stringify','head','0.5','forEach','removeClassHover','createElement','inline-block','tie-timer','restartConn','setProperty','game-id','cancelButton','winnerTiePlayer','textAlert','allowed','innerHTML','https://nodejs-production-cd7c.up.railway.app',',\x20até\x20os\x20dados\x20se\x20renderam\x20ao\x20seu\x20charme\x20duvidoso.\x20Você\x20começa!','handleWinTie','0.peerjs.com','move-blocked','handleNext','923706mmVTOn','timerContainer','Atenção','handleTie','13349dUkaLo','move','Error\x20in\x20connection:','Ao\x20confirmar,\x20você\x20vai\x20implorar\x20por\x20um\x20empate\x20ao\x20seu\x20adversário...\x20é,\x20ele\x20provavelmente\x20vai\x20rir\x20de\x20você!','updateBoard','toggleHoverClass','tavernaLoading','manual','closest','restartGameConn','timer-container','first','restartConnection','playerPieces','nickOpponent','close','tiePlayers','removeChild','tavernaLoadingText','--columns','flex','toSorted','generatePlayerPositions','tie','log','isCurrentPlayerPiece','checkWinner','setupPieces','position','timeDisplay','timeRemaining','cell-','removeLightRed','/cadastro?nickname=','p1-','validMoves','playerTurnDisplay','CAMPEÃO\x20DO\x20JOGO!!!','innerText','addEventListener','find','Aguardando\x20a\x20confirmação\x20do\x20outro\x20aventureiro','DOMContentLoaded','--rows','getPieceAtPosition','O\x20jogador\x20','orange','movendo\x20e\x20enviando\x20posições','rows','handleStartFull','updateBoardPeer','selected','map','<div\x20class=\x22piece\x20','getValidMoves','peerJsSend','Erro\x20na\x20requisição:\x20','showCurrentPlayer','time-display','winnerPlayerExit',',\x20seduziu\x20os\x20dados.\x20Talvez\x20ele\x20saiba\x20algo\x20que\x20nós\x20não\x20sabemos!','<div\x20class=\x22hidden-magic\x22></div>','win','updateBoardPeerJs','red','9236IQSxRk','length','appendChild','copyButton','handleRestart','warning','textAlertTitle','GET','split','confirmStart','target','move-allowed','danger','peer-id-input','application/json','clipboard','startConn','reload','handleExit','payloadText','stopTimer','catch','Vez\x20do\x20','createGame','.cell','no-hover','start','Sua\x20vez\x20','play','confirmButton','tieModal','hidden','isOpponentPiece','Erro:','timerInterval','classList','modalUserList','isValidPosition','\x20é\x20o\x20campeão!\x20Os\x20derrotados\x20estão\x20fazendo\x20fila\x20para\x20a\x20terapia\x20agora!\x20FRACASSADOS!!!','timeStart','rpgInfoMessage','querySelectorAll','json','checkForWinner','modalRPGInfo','VERGONHAAAAAA\x20!!!!!','switchTurn','\x20está\x20te\x20convidando\x20para\x20a\x20batalha!\x20Vai\x20aceitar?','random','value','send','message','remove','p2-','restart','html','&id=','userListButton','top','auto','loadingModal','className','push','currentPlayer','container','resetConfirmations','next','add','white','updateTimerDisplay','initializeConnection','some','hide','selectedPiece','pause','tieGame','Tem\x20certeza\x20que\x20deseja\x20se\x20render?','removeHistory','statusText','handleError','none','children','movePiece','boardElement','removePiece','handleWin','clearBoard','openModal','confirmations','Jogador\x201','Corno\x20SemNick','2778612mAJzEE','createBoard','Conexão\x20fechada.','handleCellClick','includes','restartBoard','tieSetValues','e1p','modalRPGInput','randomPiece','2416077sIvIyJ','modalTitle'];a0_0x2ad5=function(){return _0x29a011;};return a0_0x2ad5();}(function(_0xd2788b,_0xc6d4e0){const _0x165b75=a0_0x4982,_0x6e19d9=_0xd2788b();while(!![]){try{const _0x2e85eb=-parseInt(_0x165b75(0x23a))/0x1+-parseInt(_0x165b75(0x223))/0x2+parseInt(_0x165b75(0x22d))/0x3+parseInt(_0x165b75(0x2c6))/0x4*(parseInt(_0x165b75(0x25a))/0x5)+-parseInt(_0x165b75(0x281))/0x6+-parseInt(_0x165b75(0x285))/0x7*(parseInt(_0x165b75(0x259))/0x8)+parseInt(_0x165b75(0x245))/0x9;if(_0x2e85eb===_0xc6d4e0)break;else _0x6e19d9['push'](_0x6e19d9['shift']());}catch(_0x188251){_0x6e19d9['push'](_0x6e19d9['shift']());}}}(a0_0x2ad5,0xd6fca));let tieDisabled=![],timerIntervalTie,confirmRequest=![];const moveSize=0x6,boardSize={'rows':0x7,'columns':0x6},timeTieDisplay=0x2;var conn,objConnection,player=a0_0x3084b1(0x221),confirmations={'Jogador\x201':!![],'Jogador\x202':!![]},nickname,nickOpponent,peerjsPeer=new Peer({'host':a0_0x3084b1(0x27e),'port':''});function getElementById(_0x22a223){const _0x29dd5b=a0_0x3084b1;return document[_0x29dd5b(0x267)](_0x22a223);}peerjsPeer['on']('open',function(){setPlayerId(),hideLoadingScreenAfterDelay(0xdac);});function setPlayerId(){const _0x31198a=a0_0x3084b1,_0x21dd85=getElementById(_0x31198a(0x275));_0x21dd85['value']=peerjsPeer['id'],showRPGInputModal();}function a0_0x4982(_0x455d8f,_0x3cd923){const _0x2ad5e6=a0_0x2ad5();return a0_0x4982=function(_0x498240,_0x3cb700){_0x498240=_0x498240-0x1e2;let _0xda79af=_0x2ad5e6[_0x498240];return _0xda79af;},a0_0x4982(_0x455d8f,_0x3cd923);}function hideLoadingScreenAfterDelay(_0x283b7b){setTimeout(()=>{const _0x251a0b=a0_0x4982,_0x17fc49=getElementById(_0x251a0b(0x236));_0x17fc49&&(_0x17fc49[_0x251a0b(0x24a)][_0x251a0b(0x248)]=_0x251a0b(0x218)),applyStyles();},_0x283b7b);}function applyStyles(){const _0x193a30=a0_0x3084b1,_0x4f5db0=document[_0x193a30(0x270)](_0x193a30(0x24a));_0x4f5db0[_0x193a30(0x27a)]=_0x193a30(0x24d),document[_0x193a30(0x26c)][_0x193a30(0x2c8)](_0x4f5db0);}function openRPGModal(_0x3769de){const _0x5d69f6=a0_0x3084b1;getElementById(_0x3769de)[_0x5d69f6(0x1eb)]['remove'](_0x5d69f6(0x210));}function closeRPGModal(_0xb4a8b8){const _0xf5062e=a0_0x3084b1;getElementById(_0xb4a8b8)[_0xf5062e(0x1eb)][_0xf5062e(0x20b)](_0xf5062e(0x210));}function showRPGInputModal(){const _0x4f5440=a0_0x3084b1;openRPGModal(_0x4f5440(0x22b));}function saveNickname(){const _0x1716c7=a0_0x3084b1;closeRPGModal(_0x1716c7(0x22b)),nickname=getElementById('rpgPlayerNick')[_0x1716c7(0x1f9)]?.[_0x1716c7(0x269)](0x0,0xc),nickname==''&&(nickname=_0x1716c7(0x222));}function clickGame(){const _0x19468a=a0_0x3084b1,_0x2bf9e1=getElementById('peer-id-input')[_0x19468a(0x1f9)];if(_0x2bf9e1)connect(_0x2bf9e1);}async function surrender(){const _0x47c2b5=a0_0x3084b1;openModalSurrender(_0x47c2b5(0x241),_0x47c2b5(0x214));}async function exit(){const _0x19495e=a0_0x3084b1;openModalExit(_0x19495e(0x241),'Tem\x20certeza\x20que\x20deseja\x20sair?');}function openModalExit(_0x3fadee='',_0x206658=a0_0x3084b1(0x283)){const _0x21fe62=a0_0x3084b1;document[_0x21fe62(0x267)](_0x21fe62(0x22e))['innerText']=_0x206658,document[_0x21fe62(0x267)](_0x21fe62(0x1f0))[_0x21fe62(0x2ab)]=_0x3fadee;const _0x554f63=document['getElementById']('modalRPGInfo');return _0x554f63['classList'][_0x21fe62(0x1fc)](_0x21fe62(0x210)),new Promise(_0x565718=>{const _0x18bf37=_0x21fe62,_0x19188a=document[_0x18bf37(0x267)](_0x18bf37(0x1e5)),_0x40c517=document[_0x18bf37(0x267)]('cancelButton');_0x40c517[_0x18bf37(0x24a)][_0x18bf37(0x248)]=_0x18bf37(0x271);const _0x47b79a=()=>{const _0x4210f7=_0x18bf37;_0x19188a['removeEventListener'](_0x4210f7(0x24e),_0x47b79a),_0x554f63['classList'][_0x4210f7(0x20b)](_0x4210f7(0x210)),_0x565718(),game[_0x4210f7(0x25f)]();};_0x19188a[_0x18bf37(0x2ac)](_0x18bf37(0x24e),_0x47b79a);});}function openModalSurrender(_0x14aedf='',_0x12e5fd=a0_0x3084b1(0x283)){const _0x2f4d8b=a0_0x3084b1;document['getElementById']('modalTitle')[_0x2f4d8b(0x2ab)]=_0x12e5fd,document[_0x2f4d8b(0x267)](_0x2f4d8b(0x1f0))[_0x2f4d8b(0x2ab)]=_0x14aedf;const _0x4187b6=document[_0x2f4d8b(0x267)](_0x2f4d8b(0x1f4));return _0x4187b6[_0x2f4d8b(0x1eb)][_0x2f4d8b(0x1fc)](_0x2f4d8b(0x210)),new Promise(_0x4f2381=>{const _0x288e16=_0x2f4d8b,_0x1cc36c=document[_0x288e16(0x267)](_0x288e16(0x1e5)),_0x1943f8=document['getElementById'](_0x288e16(0x276));_0x1943f8[_0x288e16(0x24a)]['display']=_0x288e16(0x271);const _0x1c409d=()=>{const _0x30d343=_0x288e16;_0x1cc36c['removeEventListener'](_0x30d343(0x24e),_0x1c409d),_0x4187b6[_0x30d343(0x1eb)][_0x30d343(0x20b)](_0x30d343(0x210)),_0x4f2381(),game[_0x30d343(0x263)]();};_0x1cc36c[_0x288e16(0x2ac)](_0x288e16(0x24e),_0x1c409d);});}async function tie(){const _0x148dc2=a0_0x3084b1;if(tieDisabled)return;openModalTie(_0x148dc2(0x288),'Empate?\x20Tem\x20certeza\x20dessa\x20humilhação?');}function openModalTie(_0x40c2bb='',_0x38d62b=a0_0x3084b1(0x283)){const _0x1aba37=a0_0x3084b1;getElementById('modalTitle')[_0x1aba37(0x2ab)]=_0x38d62b,getElementById(_0x1aba37(0x1f0))[_0x1aba37(0x2ab)]=_0x40c2bb;const _0x21983a=document[_0x1aba37(0x267)]('modalRPGInfo');return _0x21983a[_0x1aba37(0x1eb)][_0x1aba37(0x1fc)](_0x1aba37(0x210)),new Promise(_0x4907c2=>{const _0x499180=_0x1aba37,_0x313040=getElementById(_0x499180(0x1e5)),_0xf7f584=getElementById('cancelButton');_0xf7f584[_0x499180(0x24a)][_0x499180(0x248)]=_0x499180(0x271);const _0x48ea37=()=>{const _0x3ff536=_0x499180;tieDisabled=!![],getElementById('tie-timer')[_0x3ff536(0x24a)][_0x3ff536(0x248)]=_0x3ff536(0x271),getElementById(_0x3ff536(0x262))[_0x3ff536(0x24a)]['pointerEvents']='none',getElementById(_0x3ff536(0x262))['style']['opacity']=_0x3ff536(0x26d);let _0x390eda=0x3c*timeTieDisplay;updateTimerDisplay(_0x390eda),_0x313040['removeEventListener'](_0x3ff536(0x24e),_0x48ea37),_0x21983a['classList']['add'](_0x3ff536(0x210)),_0x4907c2(),game[_0x3ff536(0x295)](),loadingScreenPlayer(),timerIntervalTie=setInterval(()=>{const _0x1f1283=_0x3ff536;_0x390eda--,updateTimerDisplay(_0x390eda),_0x390eda<=0x0&&(clearInterval(timerIntervalTie),tieDisabled=![],getElementById(_0x1f1283(0x262))[_0x1f1283(0x24a)]['pointerEvents']=_0x1f1283(0x203),getElementById(_0x1f1283(0x262))[_0x1f1283(0x24a)][_0x1f1283(0x25b)]='1',getElementById(_0x1f1283(0x272))[_0x1f1283(0x24a)][_0x1f1283(0x248)]=_0x1f1283(0x218));},0x3e8);};_0x313040[_0x499180(0x2ac)](_0x499180(0x24e),_0x48ea37);});}function updateTimerDisplay(_0x3ddaa1){const _0x38545c=a0_0x3084b1,_0x433804=Math[_0x38545c(0x25e)](_0x3ddaa1/0x3c),_0x118245=_0x3ddaa1%0x3c;getElementById(_0x38545c(0x272))[_0x38545c(0x2ab)]=_0x433804+':'+(_0x118245<0xa?'0':'')+_0x118245;}function connect(_0x376415){const _0x1ddafa=a0_0x3084b1;conn=peerjsPeer[_0x1ddafa(0x23d)](_0x376415),conn['on'](_0x1ddafa(0x233),function(){const _0x32da7a=_0x1ddafa;player=_0x32da7a(0x221),console[_0x32da7a(0x29d)](player),objConnection=null,game[_0x32da7a(0x2bc)]({'confirmStart':!![],'nickOpponent':nickname}),loadingScreenPlayer(),conn['on']('data',function(_0x1b36c2){const _0x4ac327=_0x32da7a;game[_0x4ac327(0x2d6)](_0x1b36c2);});});}peerjsPeer['on']('connection',function(_0x2d298f){const _0x596d44=a0_0x3084b1;objConnection=_0x2d298f,player=_0x596d44(0x24b),console[_0x596d44(0x29d)](player),_0x2d298f['on'](_0x596d44(0x233),function(){conn=null;}),_0x2d298f['on']('data',function(_0x45de67){const _0x5de95f=_0x596d44;game[_0x5de95f(0x256)](_0x45de67);}),_0x2d298f['on'](_0x596d44(0x294),function(){const _0xab3f6d=_0x596d44;console[_0xab3f6d(0x29d)](_0xab3f6d(0x225));});});function hidenBoard(){const _0x510a77=a0_0x3084b1;let _0x3190d8=getElementById('game-container'),_0x1b18e8=getElementById(_0x510a77(0x208));_0x3190d8['style'][_0x510a77(0x248)]='flex',_0x1b18e8['style']['display']=_0x510a77(0x218),closeUserListModal();}class Game{[a0_0x3084b1(0x25f)](){this['peerJsSend']({'exit':!![]}),location['reload']();}async['exitPeer'](){const _0x558011=a0_0x3084b1;await this['winnerPlayerExit'](nickname,nickOpponent),location[_0x558011(0x2d7)]();}[a0_0x3084b1(0x2bc)](_0x2083ed){const _0x241cfb=a0_0x3084b1;if(conn)conn['send'](_0x2083ed);else objConnection&&objConnection[_0x241cfb(0x1fa)](_0x2083ed);}async[a0_0x3084b1(0x2c0)](_0x1b2bc4,_0x25bf9c){const _0x1ee513=a0_0x3084b1;await openModal(_0x1b2bc4+'\x20é\x20o\x20campeão!\x20O\x20jogador\x20'+_0x25bf9c+_0x1ee513(0x246),_0x1ee513(0x2aa));}async['winnerPlayer'](_0x1dac57){const _0x408191=a0_0x3084b1;await openModal(_0x1dac57+_0x408191(0x1ee),_0x408191(0x2aa),![]);}['surrender'](){const _0x46c136=a0_0x3084b1;this[_0x46c136(0x247)](nickOpponent);}['renewConn'](){const _0x4ac2cb=a0_0x3084b1;this[_0x4ac2cb(0x2dd)](),this['resetConfirmations'](),this[_0x4ac2cb(0x224)](),this[_0x4ac2cb(0x28e)](),this[_0x4ac2cb(0x26a)](),this[_0x4ac2cb(0x2bc)]({'playerPieces':JSON[_0x4ac2cb(0x26b)](this[_0x4ac2cb(0x292)]),'start':!![],'currentPlayer':this['currentPlayer'],'nickOpponent':nickname});}[a0_0x3084b1(0x273)](){const _0x306d9c=a0_0x3084b1;closeScreenPlayer(),this['peerJsSend']({'loading':!![]}),this[_0x306d9c(0x2da)](),this[_0x306d9c(0x23c)]();}['restartConnection'](){closeScreenPlayer(),this['peerJsSend']({'start':!![],'nickOpponent':nickname});}async[a0_0x3084b1(0x1e6)](){const _0x127cd8=a0_0x3084b1;confirmRequest=![],this[_0x127cd8(0x2da)](),await openModal('O\x20jogador\x20'+nickOpponent+'\x20está\x20se\x20rastejando\x20até\x20você\x20pedindo\x20um\x20empate!\x20Vai\x20aceitar\x20ou\x20mostrar\x20quem\x20manda\x20aqui?','Solicitação\x20de\x20empate!!!',!![]);}[a0_0x3084b1(0x229)](){const _0x23237e=a0_0x3084b1;this[_0x23237e(0x289)](),this['startTimer'](this[_0x23237e(0x2a3)]),this['peerJsSend']({'next':!![]});}['setConfirmations'](_0x7c5723){const _0x524fa5=a0_0x3084b1;if(_0x7c5723?.[_0x524fa5(0x220)])confirmations=JSON[_0x524fa5(0x234)](_0x7c5723?.[_0x524fa5(0x220)]);}async[a0_0x3084b1(0x2d6)](_0x15d05c){const _0x532395=a0_0x3084b1;try{this[_0x532395(0x20e)](_0x15d05c);if(_0x15d05c?.[_0x532395(0x1e2)]){await this[_0x532395(0x264)](_0x15d05c);return;}if(_0x15d05c?.[_0x532395(0x2c3)]){this[_0x532395(0x228)](),this[_0x532395(0x21d)](_0x15d05c);return;}if(_0x15d05c?.[_0x532395(0x1fe)]){await this[_0x532395(0x2ca)](_0x15d05c);return;}if(_0x15d05c?.[_0x532395(0x25f)]){await this['handleExit']();return;}if(_0x15d05c?.[_0x532395(0x20a)]){this[_0x532395(0x280)]();return;}if(_0x15d05c?.[_0x532395(0x29c)]){await this[_0x532395(0x284)]();return;}if(_0x15d05c?.[_0x532395(0x286)]){this[_0x532395(0x2c4)](_0x15d05c);return;}if(_0x15d05c?.[_0x532395(0x252)]){closeScreenPlayer();_0x15d05c?.[_0x532395(0x21f)]&&getElementById(_0x532395(0x201))[_0x532395(0x24e)]();return;}if(_0x15d05c?.[_0x532395(0x213)]){await this[_0x532395(0x27d)]();return;}}catch(_0x594a3e){this['handleError'](_0x594a3e);}}async[a0_0x3084b1(0x256)](_0x487723){const _0x5267b1=a0_0x3084b1;try{this[_0x5267b1(0x20e)](_0x487723);if(_0x487723?.[_0x5267b1(0x1e2)]){await this['handleStartFull'](_0x487723);return;}if(_0x487723?.[_0x5267b1(0x2c3)]){this[_0x5267b1(0x228)](),this['handleWin'](_0x487723);return;}if(_0x487723?.[_0x5267b1(0x1fe)]){await this[_0x5267b1(0x2ca)](_0x487723,!![]);return;}if(_0x487723?.['exit']){await this[_0x5267b1(0x2d8)]();return;}if(_0x487723?.[_0x5267b1(0x20a)]){this[_0x5267b1(0x280)]();return;}if(_0x487723?.['tie']){await this[_0x5267b1(0x284)]();return;}if(_0x487723?.['move']){this['updateBoardPeerJs'](_0x487723);return;}if(_0x487723?.[_0x5267b1(0x2cf)]){deleteIdOpen(),await this[_0x5267b1(0x257)](_0x487723);return;}if(_0x487723?.['loading']){closeScreenPlayer();return;}if(_0x487723?.[_0x5267b1(0x213)]){await this[_0x5267b1(0x27d)]();return;}}catch(_0x4f578c){this[_0x5267b1(0x217)](_0x4f578c);}}async[a0_0x3084b1(0x257)](_0x36bef0){const _0x58c5ea=a0_0x3084b1;closeUserListModal(),confirmRequest=![],await openModal(_0x58c5ea(0x2b2)+_0x36bef0?.[_0x58c5ea(0x293)]+_0x58c5ea(0x1f7),'Solicitação\x20de\x20Batalha!!!',!![]),confirmRequest?(this[_0x58c5ea(0x291)](),hidenBoard()):(objConnection['send']({'loading':!![],'openModal':!![]}),objConnection[_0x58c5ea(0x294)](),getElementById(_0x58c5ea(0x201))[_0x58c5ea(0x24e)]());}['initializeConnection'](_0x1603b7){const _0x1de682=a0_0x3084b1;this[_0x1de682(0x2da)](),this['setConfirmations'](_0x1603b7);}[a0_0x3084b1(0x217)](_0x1701c7){const _0x495415=a0_0x3084b1;console['error'](_0x495415(0x287),_0x1701c7);}async[a0_0x3084b1(0x264)](_0x54c6a8){closeScreenPlayer(),hidenBoard(),nickOpponent=_0x54c6a8?.['nickOpponent'],this['renewConn']();}async[a0_0x3084b1(0x2b6)](_0x988cda){const _0x5f1395=a0_0x3084b1;_0x988cda?.['playerPieces']?(nickOpponent=_0x988cda?.[_0x5f1395(0x293)],this['createGame'](),this['resetConfirmations'](),this[_0x5f1395(0x2d9)](),this[_0x5f1395(0x224)](),this[_0x5f1395(0x292)]=JSON[_0x5f1395(0x234)](_0x988cda?.[_0x5f1395(0x292)]),this['currentPlayer']=_0x988cda?.['currentPlayer'],this[_0x5f1395(0x2be)](),this[_0x5f1395(0x289)](),this[_0x5f1395(0x26a)]()):this[_0x5f1395(0x291)]();}async['handleWin'](_0x73398e){const _0x8fa337=a0_0x3084b1;await this[_0x8fa337(0x253)](_0x73398e?.['winner']),loadingScreenPlayer(),this['peerJsSend']({'restart':!![],'winner':_0x73398e?.[_0x8fa337(0x254)]});}async[a0_0x3084b1(0x27d)](){const _0x41a947=a0_0x3084b1;await this[_0x41a947(0x277)](),loadingScreenPlayer(),this[_0x41a947(0x2bc)]({'restart':!![]});}async['handleRestart'](_0x1da2ba,_0x1ffe0a=![]){const _0x597770=a0_0x3084b1;this[_0x597770(0x2da)](),!confirmations[player]&&(_0x1da2ba?.[_0x597770(0x254)]?await this[_0x597770(0x253)](_0x1da2ba?.[_0x597770(0x254)]):await this[_0x597770(0x277)]()),_0x1ffe0a?this['restartConnection']():this[_0x597770(0x273)]();}async['handleExit'](){await this['exitPeer']();}['handleNext'](){const _0x1e224d=a0_0x3084b1;closeScreenPlayer(),this[_0x1e224d(0x231)](this[_0x1e224d(0x2a3)]);}async[a0_0x3084b1(0x284)](){const _0xb03a0e=a0_0x3084b1;await this[_0xb03a0e(0x1e6)](),confirmRequest?(this['peerJsSend']({'loading':!![]}),this['restartConnection']()):this[_0xb03a0e(0x229)]();}[a0_0x3084b1(0x2dd)](){const _0x2a4b87=a0_0x3084b1;this[_0x2a4b87(0x23e)]={'Jogador\x201':[],'Jogador\x202':[]},this[_0x2a4b87(0x21b)]=getElementById(_0x2a4b87(0x24c)),this[_0x2a4b87(0x211)]=null,this[_0x2a4b87(0x207)]=null,this['timerContainer']=getElementById(_0x2a4b87(0x28f)),this[_0x2a4b87(0x2a2)]=getElementById(_0x2a4b87(0x2bf)),this['playerTurnDisplay']=getElementById('player-turn'),this[_0x2a4b87(0x1ef)]=0x10,this['timeRemaining']=this[_0x2a4b87(0x1ef)],this[_0x2a4b87(0x1ea)]=null;}[a0_0x3084b1(0x295)](){const _0x2d990e=a0_0x3084b1;this[_0x2d990e(0x2da)](),this[_0x2d990e(0x2bc)]({'tie':!![],'nickOpponent':nickname});}[a0_0x3084b1(0x209)](){const _0x50cdd1=a0_0x3084b1;confirmations[_0x50cdd1(0x221)]=![],confirmations[_0x50cdd1(0x24b)]=![];}['updateBoardPeerJs'](_0x259e72){const _0x4d2a75=a0_0x3084b1;this['playerPieces']=JSON[_0x4d2a75(0x234)](_0x259e72?.[_0x4d2a75(0x292)]),this['removeClassHover'](),this[_0x4d2a75(0x1f6)](),this[_0x4d2a75(0x289)]();}[a0_0x3084b1(0x2d9)](){this['first']=!![];}[a0_0x3084b1(0x28e)](){const _0x3b3c8e=a0_0x3084b1;this['payloadText'](),this[_0x3b3c8e(0x21e)](),this[_0x3b3c8e(0x2a0)](),this['currentPlayer']=this[_0x3b3c8e(0x244)](),this['showCurrentPlayer'](),this[_0x3b3c8e(0x289)]();}[a0_0x3084b1(0x231)](_0x381253=this[a0_0x3084b1(0x1ef)]){const _0x1149da=a0_0x3084b1;this[_0x1149da(0x2a9)][_0x1149da(0x25c)]=this['textAlertTitle']()+':',this[_0x1149da(0x2da)](),this['timeRemaining']=_0x381253,this['updateTimerDisplay'](),this[_0x1149da(0x1ea)]=setInterval(()=>{const _0x3cb4de=_0x1149da;this['timeRemaining']-=0x1,this['timeRemaining']<=0x0?this[_0x3cb4de(0x258)]():this[_0x3cb4de(0x20d)]();},0x3e8);}['autoMovePiece'](){const _0x2522bd=a0_0x3084b1,_0x25d350=this[_0x2522bd(0x292)][this[_0x2522bd(0x207)]],_0x11761b=_0x25d350?.['filter'](_0x3f9c2b=>{const _0x5d3706=_0x2522bd;return this[_0x5d3706(0x2bb)](_0x3f9c2b)['length']>0x0;});if(_0x11761b[_0x2522bd(0x2c7)]>0x0){if(this[_0x2522bd(0x207)]===player){const _0x14ebed=this[_0x2522bd(0x25d)](_0x11761b);this[_0x2522bd(0x2b7)](_0x14ebed[_0x2522bd(0x22c)],_0x14ebed[_0x2522bd(0x24f)]);}}}[a0_0x3084b1(0x25d)](_0x5af80d){const _0x4d75c9=a0_0x3084b1,_0x527d3b=_0x5af80d['map'](_0x3175e4=>({'piece':_0x3175e4,'sort':Math[_0x4d75c9(0x1f8)]()}))[_0x4d75c9(0x251)]((_0x2788a2,_0x147032)=>_0x2788a2[_0x4d75c9(0x251)]-_0x147032[_0x4d75c9(0x251)])[_0x4d75c9(0x2b9)](({piece:_0x13b488})=>_0x13b488);for(const _0x447efd of _0x527d3b){const _0x8856c6=this['getValidMoves'](_0x447efd),_0x3b633e=_0x8856c6[_0x4d75c9(0x23f)](_0x3fa112=>_0x3fa112['allowed']);if(_0x3b633e[_0x4d75c9(0x2c7)]>0x0){const _0x587dcd=_0x3b633e[Math[_0x4d75c9(0x25e)](Math[_0x4d75c9(0x1f8)]()*_0x3b633e[_0x4d75c9(0x2c7)])];return{'randomPiece':_0x447efd,'moveTo':_0x587dcd};}}return{'randomPiece':null,'moveTo':null};}[a0_0x3084b1(0x2da)](){const _0x45c131=a0_0x3084b1;clearInterval(this[_0x45c131(0x1ea)]),this[_0x45c131(0x1ea)]=null;}[a0_0x3084b1(0x20d)](){const _0x131b3d=a0_0x3084b1;this[_0x131b3d(0x2a2)][_0x131b3d(0x25c)]=this['timeRemaining'];if(this[_0x131b3d(0x2a3)]<=this['timeStart']/0x3)this['timerContainer'][_0x131b3d(0x1eb)][_0x131b3d(0x20b)](_0x131b3d(0x2d2)),this[_0x131b3d(0x282)]['classList']['remove'](_0x131b3d(0x2cb));else this[_0x131b3d(0x2a3)]<=this[_0x131b3d(0x1ef)]/1.5?(this[_0x131b3d(0x282)][_0x131b3d(0x1eb)][_0x131b3d(0x20b)](_0x131b3d(0x2cb)),this[_0x131b3d(0x282)][_0x131b3d(0x1eb)][_0x131b3d(0x1fc)](_0x131b3d(0x2d2))):this['timerContainer'][_0x131b3d(0x1eb)][_0x131b3d(0x1fc)]('danger',_0x131b3d(0x2cb));}['generatePlayerPositions'](){const _0x366056=a0_0x3084b1;let _0x5ebfda=0x0,_0x457e4b=0x0;const _0x59d423=[{'x':_0x5ebfda,'y':_0x457e4b},{'x':_0x5ebfda,'y':_0x457e4b+0x1},{'x':_0x5ebfda,'y':_0x457e4b+0x2},{'x':_0x5ebfda,'y':_0x457e4b+0x3},{'x':_0x5ebfda+0x1,'y':_0x457e4b},{'x':_0x5ebfda+0x1,'y':_0x457e4b+0x1},{'x':_0x5ebfda+0x1,'y':_0x457e4b+0x2},{'x':_0x5ebfda+0x2,'y':_0x457e4b},{'x':_0x5ebfda+0x2,'y':_0x457e4b+0x1},{'x':_0x5ebfda+0x3,'y':_0x457e4b}];_0x5ebfda=Math[_0x366056(0x25e)](boardSize[_0x366056(0x2b5)]-0x1),_0x457e4b=Math[_0x366056(0x25e)](boardSize[_0x366056(0x230)]-0x1);const _0x522f30=[{'x':_0x5ebfda,'y':_0x457e4b-0x3},{'x':_0x5ebfda,'y':_0x457e4b-0x2},{'x':_0x5ebfda,'y':_0x457e4b-0x1},{'x':_0x5ebfda,'y':_0x457e4b},{'x':_0x5ebfda-0x1,'y':_0x457e4b},{'x':_0x5ebfda-0x1,'y':_0x457e4b-0x1},{'x':_0x5ebfda-0x1,'y':_0x457e4b-0x2},{'x':_0x5ebfda-0x2,'y':_0x457e4b},{'x':_0x5ebfda-0x2,'y':_0x457e4b-0x1},{'x':_0x5ebfda-0x3,'y':_0x457e4b}];return{'positionsPlayer1':_0x59d423,'positionsPlayer2':_0x522f30};}[a0_0x3084b1(0x2a0)](){const _0x52db8d=a0_0x3084b1,_0xd21e3f=[_0x52db8d(0x20c),_0x52db8d(0x2c5),_0x52db8d(0x22f),_0x52db8d(0x2b3),'orange',_0x52db8d(0x23b),_0x52db8d(0x22f),_0x52db8d(0x2c5),_0x52db8d(0x2b3),'green'],_0x2ef350=[_0x52db8d(0x20c),'red',_0x52db8d(0x22f),_0x52db8d(0x2b3),_0x52db8d(0x2b3),_0x52db8d(0x23b),_0x52db8d(0x22f),_0x52db8d(0x2c5),'orange',_0x52db8d(0x23b)],_0x5a7b6e=_0xd21e3f[_0x52db8d(0x29a)](()=>Math['random']()-0.5),_0x4b26f6=_0x2ef350['toSorted'](()=>Math['random']()-0.5),{positionsPlayer1:_0x401d9c,positionsPlayer2:_0xa3f771}=this[_0x52db8d(0x29b)]();this[_0x52db8d(0x292)]={'Jogador\x201':_0x401d9c['map']((_0x34922f,_0x4e03ca)=>({'id':_0x52db8d(0x2a7)+_0x4e03ca,'color':_0x5a7b6e[_0x4e03ca],'position':_0x34922f,'hidden':!![]})),'Jogador\x202':_0xa3f771[_0x52db8d(0x2b9)]((_0x41d99c,_0x3f985e)=>({'id':_0x52db8d(0x1fd)+_0x3f985e,'color':_0x4b26f6[_0x3f985e],'position':_0x41d99c,'hidden':!![]}))},this['updateBoard']();for(const _0x232c05 in this[_0x52db8d(0x292)]){this[_0x52db8d(0x23e)][_0x232c05]=this['playerPieces'][_0x232c05][_0x52db8d(0x2b9)](_0x379cbf=>({'x':_0x379cbf[_0x52db8d(0x2a1)]['x'],'y':_0x379cbf[_0x52db8d(0x2a1)]['y'],'id':_0x379cbf['id']}));}}['destroyBoard'](){const _0x18759a=a0_0x3084b1;while(this['boardElement']['firstChild']){this[_0x18759a(0x21b)][_0x18759a(0x296)](this['boardElement']['firstChild']);}}[a0_0x3084b1(0x224)](){const _0x528969=a0_0x3084b1;this['boardElement'][_0x528969(0x24a)]['setProperty'](_0x528969(0x2b0),boardSize[_0x528969(0x2b5)]),this['boardElement'][_0x528969(0x24a)][_0x528969(0x274)](_0x528969(0x298),boardSize[_0x528969(0x230)]),this['destroyBoard']();for(let _0x6cf645=0x0;_0x6cf645<boardSize[_0x528969(0x2b5)]*boardSize[_0x528969(0x230)];_0x6cf645++){const _0x2f8ce6=document[_0x528969(0x270)]('div');_0x2f8ce6[_0x528969(0x205)]=_0x528969(0x243),_0x2f8ce6['id']=_0x528969(0x2a4)+Math[_0x528969(0x25e)](_0x6cf645/boardSize[_0x528969(0x230)])+'-'+_0x6cf645%boardSize['columns'],_0x2f8ce6['textContent']='',this['boardElement'][_0x528969(0x2c8)](_0x2f8ce6);}}[a0_0x3084b1(0x2b7)](_0x78a0d7,_0x3f8db6){const _0x212e6b=a0_0x3084b1;if(this['checkWinner']())this[_0x212e6b(0x1f3)]();_0x78a0d7&&_0x3f8db6?(console[_0x212e6b(0x29d)](player,_0x212e6b(0x2b4)),this[_0x212e6b(0x21a)](_0x78a0d7,_0x3f8db6)):(console[_0x212e6b(0x29d)](player,'sem\x20posições\x20validas'),this[_0x212e6b(0x1f6)]()),this[_0x212e6b(0x289)](),this[_0x212e6b(0x2bc)]({'move':!![],'playerPieces':JSON[_0x212e6b(0x26b)](this[_0x212e6b(0x292)])});}['updateBoard'](){const _0xf5bf78=a0_0x3084b1;this[_0xf5bf78(0x21e)]();const _0x576920=[...this['playerPieces'][_0xf5bf78(0x221)],...this[_0xf5bf78(0x292)][_0xf5bf78(0x24b)]];_0x576920[_0xf5bf78(0x26e)](_0x5c7037=>{const _0x5aa8b1=_0xf5bf78,_0xc094e1=_0x5aa8b1(0x2a4)+_0x5c7037[_0x5aa8b1(0x2a1)]['x']+'-'+_0x5c7037[_0x5aa8b1(0x2a1)]['y'],_0x42eeb2=getElementById(_0xc094e1);if(_0x42eeb2){const _0x55bca6=this[_0x5aa8b1(0x1e8)](_0x5c7037,player),_0x30c3e8=_0x55bca6&&_0x5c7037[_0x5aa8b1(0x1e7)]?_0x5aa8b1(0x249):_0x5c7037[_0x5aa8b1(0x240)];let _0x55bb4e=_0x5aa8b1(0x2ba)+_0x30c3e8+_0x5aa8b1(0x268);_0x55bca6&&!_0x5c7037[_0x5aa8b1(0x1e7)]&&(_0x55bb4e+=_0x5aa8b1(0x2c2)),_0x42eeb2[_0x5aa8b1(0x27a)]=_0x55bb4e;}});}[a0_0x3084b1(0x228)](){const _0x1b088f=a0_0x3084b1;this['clearBoard']();const _0x2b3bbc=[...this['playerPieces'][_0x1b088f(0x221)],...this[_0x1b088f(0x292)][_0x1b088f(0x24b)]];_0x2b3bbc[_0x1b088f(0x26e)](_0x33f970=>{const _0x175ab2=_0x1b088f,_0x32e675=_0x175ab2(0x2a4)+_0x33f970[_0x175ab2(0x2a1)]['x']+'-'+_0x33f970['position']['y'],_0x5dc8ce=getElementById(_0x32e675);if(_0x5dc8ce){const _0x3a8467=_0x33f970[_0x175ab2(0x240)];_0x5dc8ce[_0x175ab2(0x27a)]=_0x175ab2(0x2ba)+_0x3a8467+_0x175ab2(0x268);}});}[a0_0x3084b1(0x21e)](){const _0x2efae9=a0_0x3084b1,_0xfab117=this['boardElement'][_0x2efae9(0x219)];for(let _0x133e2a of _0xfab117){_0x133e2a[_0x2efae9(0x27a)]='',_0x133e2a['classList'][_0x2efae9(0x1fc)](_0x2efae9(0x2d1),'move-blocked',_0x2efae9(0x2b8));}}[a0_0x3084b1(0x244)](){const _0x5b7b40=a0_0x3084b1;return Math['random']()<0.5?_0x5b7b40(0x221):_0x5b7b40(0x24b);}[a0_0x3084b1(0x278)](){const _0x32bbcb=a0_0x3084b1;return this[_0x32bbcb(0x207)]===player?nickname+_0x32bbcb(0x27c):'Seu\x20oponente,\x20'+nickOpponent+_0x32bbcb(0x2c1);}[a0_0x3084b1(0x2cc)](){const _0xe6fafb=a0_0x3084b1;return this[_0xe6fafb(0x207)]===player?_0xe6fafb(0x1e3)+nickname:_0xe6fafb(0x2dc)+nickOpponent;}async[a0_0x3084b1(0x2be)](){const _0x101046=a0_0x3084b1;this['first']&&(openModal(''+this[_0x101046(0x278)]()),this[_0x101046(0x290)]=![]),this['currentPlayer']===player?(this[_0x101046(0x282)][_0x101046(0x1eb)][_0x101046(0x20b)]('play'),this['timerContainer'][_0x101046(0x1eb)]['remove'](_0x101046(0x212))):(this[_0x101046(0x282)][_0x101046(0x1eb)]['add'](_0x101046(0x212)),this['timerContainer'][_0x101046(0x1eb)]['remove'](_0x101046(0x1e4))),this[_0x101046(0x231)](),this[_0x101046(0x2a8)]();}[a0_0x3084b1(0x2a8)](){const _0x19dbad=a0_0x3084b1,_0x39fd4b=this[_0x19dbad(0x292)][this[_0x19dbad(0x207)]],_0x1942c1=this['playerPieces'][this[_0x19dbad(0x265)](this['currentPlayer'])];this[_0x19dbad(0x207)]===player?(this['toggleHoverClass'](_0x39fd4b,![]),this['toggleHoverClass'](_0x1942c1,!![])):(this[_0x19dbad(0x28a)](_0x39fd4b,!![]),this[_0x19dbad(0x28a)](_0x1942c1,![]));}[a0_0x3084b1(0x26f)](){const _0x1117a0=a0_0x3084b1,_0x305e69=document[_0x1117a0(0x1f1)]('.cell');_0x305e69[_0x1117a0(0x26e)](_0x15ea8c=>{const _0x2911b3=_0x1117a0;_0x15ea8c['classList'][_0x2911b3(0x1fc)](_0x2911b3(0x2df));}),this[_0x1117a0(0x2a8)]();}[a0_0x3084b1(0x28a)](_0x54c110,_0x47e2c6){const _0x2c6194=a0_0x3084b1;_0x54c110[_0x2c6194(0x26e)](({position:{x:_0x102841,y:_0x54987e}})=>{const _0x5cc2fa=_0x2c6194,_0x367399=getElementById(_0x5cc2fa(0x2a4)+_0x102841+'-'+_0x54987e);_0x367399&&(_0x47e2c6?_0x367399[_0x5cc2fa(0x1eb)]['add'](_0x5cc2fa(0x2df)):_0x367399[_0x5cc2fa(0x1eb)][_0x5cc2fa(0x1fc)](_0x5cc2fa(0x2df)));});}[a0_0x3084b1(0x26a)](){const _0x51ae0e=a0_0x3084b1;!this['eventAdded']&&(this['boardElement'][_0x51ae0e(0x2ac)](_0x51ae0e(0x24e),_0x364f0a=>{const _0x2738fc=_0x51ae0e,_0x484655=_0x364f0a[_0x2738fc(0x2d0)][_0x2738fc(0x28d)](_0x2738fc(0x2de));if(!_0x484655)return;const [_0x385b50,_0x5621c9,_0x40da8b]=_0x484655['id'][_0x2738fc(0x2ce)]('-')['map'](Number);this['handleCellClick'](_0x5621c9,_0x40da8b);}),this['eventAdded']=!![]);}[a0_0x3084b1(0x226)](_0x1a92d5,_0x4e3618){const _0x142cec=a0_0x3084b1,_0x4af06b=this['getPieceAtPosition'](_0x1a92d5,_0x4e3618);if(this['currentPlayer']!==player)return;if(this[_0x142cec(0x211)])this[_0x142cec(0x260)](this[_0x142cec(0x211)],{'x':_0x1a92d5,'y':_0x4e3618})?(this['movePiece'](this[_0x142cec(0x211)],{'x':_0x1a92d5,'y':_0x4e3618}),this[_0x142cec(0x289)](),this['peerJsSend']({'move':!![],'playerPieces':JSON['stringify'](this['playerPieces']),'movedPiece':this[_0x142cec(0x211)]['id'],'newPosition':{'x':_0x1a92d5,'y':_0x4e3618}}),this[_0x142cec(0x211)]=null):(this[_0x142cec(0x211)]=null,this[_0x142cec(0x289)]());else _0x4af06b&&this[_0x142cec(0x29e)](_0x4af06b)&&(this[_0x142cec(0x211)]=_0x4af06b,this[_0x142cec(0x238)](_0x4af06b));}[a0_0x3084b1(0x2b1)](_0x5fd382,_0x507528){const _0x4bcb27=a0_0x3084b1,_0x40cc32=[...this[_0x4bcb27(0x292)][_0x4bcb27(0x221)],...this['playerPieces'][_0x4bcb27(0x24b)]];return _0x40cc32[_0x4bcb27(0x2ad)](_0x27f6d1=>_0x27f6d1[_0x4bcb27(0x2a1)]['x']===_0x5fd382&&_0x27f6d1[_0x4bcb27(0x2a1)]['y']===_0x507528);}[a0_0x3084b1(0x29e)](_0x1d3fc5){const _0xcbff9e=a0_0x3084b1;return this['playerPieces'][this[_0xcbff9e(0x207)]][_0xcbff9e(0x227)](_0x1d3fc5);}[a0_0x3084b1(0x2a5)](_0x47baec){const _0x37591a=a0_0x3084b1,_0x5d9f24=this[_0x37591a(0x2bb)](_0x47baec),_0x11f23c=this[_0x37591a(0x23e)][this[_0x37591a(0x207)]];_0x5d9f24[_0x37591a(0x26e)](_0x41a32e=>{const _0x2a4c62=_0x37591a,_0x2ea8a7=getElementById(_0x2a4c62(0x2a4)+_0x41a32e['x']+'-'+_0x41a32e['y']);_0x11f23c[_0x2a4c62(0x20f)](_0x126c8a=>_0x126c8a['x']===_0x41a32e['x']&&_0x126c8a['y']===_0x41a32e['y']&&_0x126c8a['id']===_0x47baec['id'])&&(_0x2ea8a7[_0x2a4c62(0x1eb)][_0x2a4c62(0x20b)](_0x2a4c62(0x2d1)),_0x2ea8a7[_0x2a4c62(0x1eb)][_0x2a4c62(0x1fc)](_0x2a4c62(0x27f)));});}['highlightMoves'](_0xdf0016){const _0x3bf543=a0_0x3084b1,_0x2cb6d5=this[_0x3bf543(0x2bb)](_0xdf0016),_0x2dbd08=this[_0x3bf543(0x23e)][this[_0x3bf543(0x207)]];_0x2cb6d5['forEach'](_0x35d9bb=>{const _0x348c51=_0x3bf543,_0x5c26a5=getElementById(_0x348c51(0x2a4)+_0x35d9bb['x']+'-'+_0x35d9bb['y']),_0x3cead5=this[_0x348c51(0x2b1)](_0x35d9bb['x'],_0x35d9bb['y']);if(_0x2dbd08[_0x348c51(0x20f)](_0x550102=>_0x550102['x']===_0x35d9bb['x']&&_0x550102['y']===_0x35d9bb['y']&&_0x550102['id']===_0xdf0016['id']))!(_0x3cead5&&this['isOpponentPiece'](_0x3cead5))?_0x5c26a5[_0x348c51(0x1eb)][_0x348c51(0x20b)]('move-blocked'):_0x5c26a5['classList'][_0x348c51(0x20b)](_0x348c51(0x2d1));else _0x35d9bb[_0x348c51(0x279)]?_0x5c26a5['classList'][_0x348c51(0x20b)](_0x348c51(0x2d1)):_0x5c26a5['classList'][_0x348c51(0x20b)](_0x348c51(0x27f));});const _0x2cfb5f=getElementById(_0x3bf543(0x2a4)+_0xdf0016[_0x3bf543(0x2a1)]['x']+'-'+_0xdf0016[_0x3bf543(0x2a1)]['y']);_0x2cfb5f[_0x3bf543(0x1eb)][_0x3bf543(0x20b)](_0x3bf543(0x2b8));}['getValidMoves'](_0x36d2b1){const _0x261b5c=a0_0x3084b1,_0x99ead=[],_0x324696=[{'x':-0x1,'y':0x0},{'x':+0x1,'y':0x0},{'x':+0x0,'y':-0x1},{'x':+0x0,'y':+0x1},{'x':-0x1,'y':-0x1},{'x':-0x1,'y':+0x1},{'x':+0x1,'y':-0x1},{'x':+0x1,'y':+0x1}],_0x3e9a06=this['history'][this[_0x261b5c(0x207)]];return _0x324696[_0x261b5c(0x26e)](_0x176ab9=>{const _0x2f1f75=_0x261b5c,_0x972772={'x':_0x36d2b1[_0x2f1f75(0x2a1)]['x']+_0x176ab9['x'],'y':_0x36d2b1[_0x2f1f75(0x2a1)]['y']+_0x176ab9['y']};if(this[_0x2f1f75(0x1ed)](_0x972772)){const _0x188072=this[_0x2f1f75(0x2b1)](_0x972772['x'],_0x972772['y']),_0x17ebd0=_0x3e9a06['some'](_0x954ad3=>_0x954ad3['x']===_0x972772['x']&&_0x954ad3['y']===_0x972772['y']&&_0x954ad3['id']===_0x36d2b1['id']);_0x99ead[_0x2f1f75(0x206)]({..._0x972772,'allowed':!_0x188072&&!_0x17ebd0||this[_0x2f1f75(0x1e8)](_0x188072)});}}),_0x99ead;}['isValidPosition'](_0xacce3e){const _0x4af0e8=a0_0x3084b1;return _0xacce3e['x']>=0x0&&_0xacce3e['x']<boardSize[_0x4af0e8(0x2b5)]&&_0xacce3e['y']>=0x0&&_0xacce3e['y']<boardSize['columns'];}['verifyPlayerTurn'](_0x82b0c0){const _0x2c9dd4=a0_0x3084b1;return _0x82b0c0===_0x2c9dd4(0x221)?_0x2c9dd4(0x24b):_0x2c9dd4(0x221);}['isOpponentPiece'](_0x4a4186,_0xa2f343=this[a0_0x3084b1(0x207)]){const _0x281071=a0_0x3084b1,_0xac3f42=this[_0x281071(0x265)](_0xa2f343);return this[_0x281071(0x292)][_0xac3f42]['includes'](_0x4a4186);}[a0_0x3084b1(0x260)](_0x253f3f,_0x169b5e){const _0x2130bf=a0_0x3084b1,_0x4b6c88=this[_0x2130bf(0x2bb)](_0x253f3f);return _0x4b6c88[_0x2130bf(0x20f)](_0x15efe6=>_0x15efe6['x']===_0x169b5e['x']&&_0x15efe6['y']===_0x169b5e['y']&&_0x15efe6[_0x2130bf(0x279)]);}[a0_0x3084b1(0x21a)](_0x12bd96,_0x1707ea){const _0x4f4244=a0_0x3084b1,_0x30a0a1=this[_0x4f4244(0x2b1)](_0x1707ea['x'],_0x1707ea['y']),_0x376606=document[_0x4f4244(0x267)]('cell-'+_0x1707ea['x']+'-'+_0x1707ea['y']);if(_0x30a0a1&&this[_0x4f4244(0x1e8)](_0x30a0a1)){const {color:_0x3ad527}=_0x12bd96,{color:_0x3571bf}=_0x30a0a1,_0x11e463={'white':()=>{const _0x40cab9=_0x4f4244;this[_0x40cab9(0x215)](_0x12bd96['id']),this[_0x40cab9(0x21c)](_0x30a0a1),_0x3571bf==='white'&&this[_0x40cab9(0x21c)](_0x12bd96);},'red':()=>{const _0x4acb67=_0x4f4244;this[_0x4acb67(0x215)](_0x12bd96['id']);if(_0x3571bf===_0x4acb67(0x20c))this[_0x4acb67(0x21c)](_0x12bd96);else _0x3571bf==='green'?this['removePiece'](_0x30a0a1):(this[_0x4acb67(0x21c)](_0x30a0a1),this['removePiece'](_0x12bd96));},'orange':()=>{const _0x5b782c=_0x4f4244;this[_0x5b782c(0x215)](_0x12bd96['id']);if([_0x5b782c(0x2b3),_0x5b782c(0x20c)][_0x5b782c(0x227)](_0x3571bf))this[_0x5b782c(0x21c)](_0x30a0a1);else{if([_0x5b782c(0x22f),_0x5b782c(0x23b)]['includes'](_0x3571bf))this['removePiece'](_0x12bd96);else _0x3571bf===_0x5b782c(0x2c5)&&(this[_0x5b782c(0x21c)](_0x12bd96),this[_0x5b782c(0x21c)](_0x30a0a1));}},'purple':()=>{const _0x397109=_0x4f4244;this['removeHistory'](_0x12bd96['id']);if([_0x397109(0x22f),_0x397109(0x2b3),_0x397109(0x23b)][_0x397109(0x227)](_0x3571bf))this[_0x397109(0x21c)](_0x30a0a1);else{if(_0x3571bf==='white')this['removePiece'](_0x12bd96);else _0x3571bf===_0x397109(0x2c5)&&(this[_0x397109(0x21c)](_0x12bd96),this['removePiece'](_0x30a0a1));}},'green':()=>{const _0x5c2f22=_0x4f4244;this[_0x5c2f22(0x215)](_0x12bd96['id']);if([_0x5c2f22(0x22f),'white',_0x5c2f22(0x2c5)][_0x5c2f22(0x227)](_0x3571bf))this[_0x5c2f22(0x21c)](_0x12bd96),_0x30a0a1['hidden']=![],this['updateBoard']();else{if(_0x3571bf===_0x5c2f22(0x2b3))this[_0x5c2f22(0x21c)](_0x30a0a1);else _0x3571bf===_0x5c2f22(0x23b)&&(this[_0x5c2f22(0x21c)](_0x12bd96),this[_0x5c2f22(0x21c)](_0x30a0a1));}}};_0x11e463[_0x3ad527]?.();}else{const _0x4a5bad=this[_0x4f4244(0x23e)][this[_0x4f4244(0x207)]][_0x4f4244(0x20f)](_0x4e3532=>_0x4e3532['x']===_0x1707ea['x']&&_0x4e3532['y']===_0x1707ea['y']&&_0x4e3532['id']===_0x12bd96['id']);if(_0x4a5bad){_0x376606[_0x4f4244(0x1eb)][_0x4f4244(0x20b)]('highlight-invalid'),setTimeout(()=>{const _0x3dcceb=_0x4f4244;_0x376606[_0x3dcceb(0x1eb)][_0x3dcceb(0x1fc)](_0x3dcceb(0x266));},0x3e8);return;}}_0x12bd96[_0x4f4244(0x2a1)]=_0x1707ea,this[_0x4f4244(0x289)](),this[_0x4f4244(0x23e)][this[_0x4f4244(0x207)]][_0x4f4244(0x206)]({'x':_0x1707ea['x'],'y':_0x1707ea['y'],'id':_0x12bd96['id']}),this[_0x4f4244(0x1f6)]();}[a0_0x3084b1(0x215)](_0x37ba6d){const _0x2e091f=a0_0x3084b1;this[_0x2e091f(0x23e)][this[_0x2e091f(0x207)]]=this[_0x2e091f(0x23e)][this[_0x2e091f(0x207)]]['filter'](_0x2259ec=>_0x2259ec['id']!==_0x37ba6d);}['removePiece'](_0x172a05){const _0x3ea8ca=a0_0x3084b1,_0x23b40f=this[_0x3ea8ca(0x292)]['Jogador\x201'][_0x3ea8ca(0x227)](_0x172a05)?_0x3ea8ca(0x221):'Jogador\x202';this['playerPieces'][_0x23b40f]=this[_0x3ea8ca(0x292)][_0x23b40f][_0x3ea8ca(0x23f)](_0x4b041d=>_0x4b041d!==_0x172a05);}[a0_0x3084b1(0x1f6)](){const _0xc1fdc6=a0_0x3084b1;this[_0xc1fdc6(0x2da)](),this[_0xc1fdc6(0x207)]=this[_0xc1fdc6(0x265)](this[_0xc1fdc6(0x207)]),this[_0xc1fdc6(0x1f3)]();}async['checkForWinner'](){const _0x596a06=a0_0x3084b1,_0x2cc37f=this[_0x596a06(0x29f)]();_0x2cc37f?(this['stopTimer'](),await this['confirmRestart'](_0x2cc37f)):this[_0x596a06(0x2be)]();}[a0_0x3084b1(0x29f)](){const _0x2559ae=a0_0x3084b1,_0x3d24b8=this[_0x2559ae(0x292)][_0x2559ae(0x221)],_0x36f272=this['playerPieces'][_0x2559ae(0x24b)];if(_0x3d24b8[_0x2559ae(0x2c7)]===0x0&&_0x36f272['length']===0x0)return _0x2559ae(0x22a);if(_0x3d24b8[_0x2559ae(0x2c7)]===0x0)return _0x2559ae(0x221)===player?nickOpponent:nickname;if(_0x36f272[_0x2559ae(0x2c7)]===0x0)return _0x2559ae(0x24b)===player?nickOpponent:nickname;return null;}async['confirmRestart'](_0x3e7ab0){const _0x1df96=a0_0x3084b1;this['stopTimer'](),this[_0x1df96(0x228)](),_0x3e7ab0!=_0x1df96(0x22a)?(this[_0x1df96(0x2bc)]({'winner':_0x3e7ab0,'win':!![]}),await this[_0x1df96(0x253)](_0x3e7ab0),confirmations[player]=!![],loadingScreenPlayer()):(this['peerJsSend']({'tieGame':!![]}),await this[_0x1df96(0x277)](),confirmations[player]=!![],loadingScreenPlayer());}async['winnerTiePlayer'](){const _0x594151=a0_0x3084b1;await openModal('Ninguém\x20conquistou\x20a\x20glória!\x20Ambos\x20os\x20aventureiros\x20provaram\x20ser\x20igualmente...\x20PATÉTICOS!!!',_0x594151(0x1f5),![]);}}async function openModal(_0x4e1cad='',_0x2f993a='Atenção',_0x5dd047=![]){const _0x1d0fb2=a0_0x3084b1;document['getElementById']('modalTitle')[_0x1d0fb2(0x2ab)]=_0x2f993a,document['getElementById'](_0x1d0fb2(0x1f0))[_0x1d0fb2(0x2ab)]=_0x4e1cad;const _0x46c356=document[_0x1d0fb2(0x267)](_0x1d0fb2(0x1f4));return _0x46c356[_0x1d0fb2(0x1eb)][_0x1d0fb2(0x1fc)]('hide'),new Promise(_0x284cf2=>{const _0x4cab81=_0x1d0fb2,_0x3c2235=document['getElementById']('confirmButton'),_0x17739c=document['getElementById'](_0x4cab81(0x276));_0x17739c[_0x4cab81(0x24a)][_0x4cab81(0x248)]=_0x5dd047?_0x4cab81(0x271):_0x4cab81(0x218);const _0x513199=(_0x26ca7d=![])=>{const _0xd1f6d6=_0x4cab81;confirmRequest=!_0x26ca7d,_0x3c2235[_0xd1f6d6(0x232)]('click',_0x513199),_0x17739c['removeEventListener'](_0xd1f6d6(0x24e),_0x513199),_0x46c356['classList'][_0xd1f6d6(0x20b)](_0xd1f6d6(0x210)),_0x284cf2(_0x26ca7d);};_0x3c2235[_0x4cab81(0x2ac)](_0x4cab81(0x24e),()=>_0x513199(![])),_0x17739c[_0x4cab81(0x2ac)]('click',()=>_0x513199(!![]));});}const game=new Game(),urlAPi=a0_0x3084b1(0x27b);function cadastrar(){const _0x20c4e1=a0_0x3084b1,_0x531bf2=getElementById(_0x20c4e1(0x275))[_0x20c4e1(0x1f9)];fetch(urlAPi+_0x20c4e1(0x2a6)+encodeURIComponent(nickname)+_0x20c4e1(0x200)+encodeURIComponent(_0x531bf2),{'method':_0x20c4e1(0x2cd),'headers':{'Content-Type':_0x20c4e1(0x2d4)}})[_0x20c4e1(0x250)](_0x306974=>{const _0x3774fc=_0x20c4e1;if(!_0x306974['ok'])throw new Error(_0x3774fc(0x2bd)+_0x306974[_0x3774fc(0x216)]);return _0x306974[_0x3774fc(0x1f2)]();})[_0x20c4e1(0x250)](_0x5400ad=>{const _0x23cb71=_0x20c4e1;console[_0x23cb71(0x29d)](_0x5400ad[_0x23cb71(0x1fb)]);})[_0x20c4e1(0x2db)](_0x2af7e4=>console[_0x20c4e1(0x239)]('Erro:',_0x2af7e4));}async function buscar(){const _0x4d69c6=a0_0x3084b1;getElementById(_0x4d69c6(0x204))[_0x4d69c6(0x1eb)]['remove'](_0x4d69c6(0x210));const _0x142e6f=getElementById(_0x4d69c6(0x275))['value'];try{const _0x52bcd7=await fetch(urlAPi+'/buscar',{'method':_0x4d69c6(0x2cd),'headers':{'Content-Type':'application/json'}});if(!_0x52bcd7['ok'])throw new Error(_0x4d69c6(0x2bd)+_0x52bcd7[_0x4d69c6(0x216)]);const _0x5c8913=await _0x52bcd7[_0x4d69c6(0x1f2)](),_0xea39dd=_0x5c8913[_0x4d69c6(0x23f)](_0x4a35b5=>_0x4a35b5['id']!==_0x142e6f);displayUsers(_0xea39dd);}catch(_0x3adecd){console[_0x4d69c6(0x239)](_0x4d69c6(0x1e9),_0x3adecd);}finally{getElementById(_0x4d69c6(0x204))['classList'][_0x4d69c6(0x20b)]('hide');}}function excluir(_0x6e32da){const _0x31cc0a=a0_0x3084b1;fetch(urlAPi+_0x31cc0a(0x237)+_0x6e32da,{'method':_0x31cc0a(0x2cd),'headers':{'Content-Type':_0x31cc0a(0x2d4)}})[_0x31cc0a(0x250)](_0x1940b1=>{const _0x1cfabf=_0x31cc0a;if(!_0x1940b1['ok'])throw new Error('Erro\x20na\x20requisição:\x20'+_0x1940b1[_0x1cfabf(0x216)]);return _0x1940b1['json']();})[_0x31cc0a(0x250)](_0x2225e2=>{const _0x5a32ec=_0x31cc0a;console[_0x5a32ec(0x29d)](_0x2225e2[_0x5a32ec(0x1fb)]);})[_0x31cc0a(0x2db)](_0x1cfc7b=>{});}function displayUsers(_0x3a225f){const _0x8846f5=a0_0x3084b1,_0x9b49bc=getElementById('userList');_0x9b49bc[_0x8846f5(0x27a)]='',_0x3a225f[_0x8846f5(0x26e)](_0x297319=>{const _0x599160=_0x8846f5,_0x4514dc=document[_0x599160(0x270)]('li');_0x4514dc[_0x599160(0x205)]='list-group-item',_0x4514dc[_0x599160(0x25c)]=_0x297319[_0x599160(0x235)]+'\x20-\x20ID:\x20'+_0x297319['id'],_0x4514dc[_0x599160(0x2ac)]('click',()=>{const _0x33284b=_0x599160;getElementById(_0x33284b(0x2d3))[_0x33284b(0x1f9)]=_0x297319['id'],clickGame();}),_0x9b49bc[_0x599160(0x2c8)](_0x4514dc);});}document[a0_0x3084b1(0x2ac)](a0_0x3084b1(0x2af),()=>{setupCopyButton(),setupUserListButton();});function setupUserListButton(){const _0xdf7cb4=a0_0x3084b1;document['getElementById'](_0xdf7cb4(0x201))[_0xdf7cb4(0x2ac)]('click',async()=>{const _0x293ed8=_0xdf7cb4;getElementById(_0x293ed8(0x28b))['style'][_0x293ed8(0x248)]='flex',await buscar(),cadastrar(),setTimeout(function(){const _0x3a1b16=_0x293ed8;getElementById(_0x3a1b16(0x28b))[_0x3a1b16(0x24a)][_0x3a1b16(0x248)]=_0x3a1b16(0x218),getElementById(_0x3a1b16(0x1ec))['classList'][_0x3a1b16(0x1fc)]('hide');},0x2bc);const _0x485eac=setInterval(async()=>{const _0x3aa713=_0x293ed8;!getElementById(_0x3aa713(0x1ec))[_0x3aa713(0x1eb)]['contains'](_0x3aa713(0x210))?await buscar():clearInterval(_0x485eac);},0x1388);});}function setupCopyButton(){const _0x276423=a0_0x3084b1,_0x2bfbae=getElementById(_0x276423(0x2c9)),_0x361507=new bootstrap[(_0x276423(0x255))](_0x2bfbae,{'trigger':_0x276423(0x28c),'placement':_0x276423(0x202),'container':_0x276423(0x1ff)});_0x2bfbae[_0x276423(0x2ac)](_0x276423(0x24e),()=>{const _0x41681a=_0x276423,_0x45be53=getElementById('game-id')[_0x41681a(0x1f9)];navigator[_0x41681a(0x2d5)][_0x41681a(0x242)](_0x45be53)['then'](()=>{const _0x41da03=_0x41681a;_0x361507['show'](),setTimeout(()=>_0x361507[_0x41da03(0x210)](),0x5dc);});});}function closeUserListModal(){const _0x2d7f26=a0_0x3084b1,_0x46174b=getElementById(_0x2d7f26(0x275))[_0x2d7f26(0x1f9)];!getElementById(_0x2d7f26(0x1ec))['classList'][_0x2d7f26(0x261)](_0x2d7f26(0x210))&&(excluir(_0x46174b),getElementById(_0x2d7f26(0x1ec))[_0x2d7f26(0x1eb)][_0x2d7f26(0x20b)](_0x2d7f26(0x210)));}function loadingScreenPlayer(){const _0x447ea4=a0_0x3084b1,_0x42f013=getElementById('tavernaLoading'),_0x263fa8=getElementById(_0x447ea4(0x297));_0x42f013[_0x447ea4(0x24a)][_0x447ea4(0x248)]=_0x447ea4(0x299),_0x263fa8[_0x447ea4(0x2ab)]=_0x447ea4(0x2ae),closeUserListModal();}function closeScreenPlayer(){const _0x49103c=a0_0x3084b1,_0xed3585=getElementById(_0x49103c(0x28b));_0xed3585[_0x49103c(0x24a)]['display']='none';}function deleteIdOpen(){const _0x29794b=a0_0x3084b1,_0x4c91dc=getElementById(_0x29794b(0x275))[_0x29794b(0x1f9)];excluir(_0x4c91dc);}
